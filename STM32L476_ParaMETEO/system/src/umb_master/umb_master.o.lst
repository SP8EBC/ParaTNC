   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"umb_master.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.umb_master_init,"ax",%progbits
  18              		.align	1
  19              		.global	umb_master_init
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	umb_master_init:
  26              	.LFB393:
  27              		.file 1 "../system/src/umb_master/umb_master.c"
   1:../system/src/umb_master/umb_master.c **** /*
   2:../system/src/umb_master/umb_master.c ****  * umb_client.c
   3:../system/src/umb_master/umb_master.c ****  *
   4:../system/src/umb_master/umb_master.c ****  *  Created on: 22.02.2020
   5:../system/src/umb_master/umb_master.c ****  *      Author: mateusz
   6:../system/src/umb_master/umb_master.c ****  */
   7:../system/src/umb_master/umb_master.c **** 
   8:../system/src/umb_master/umb_master.c **** #include <string.h>
   9:../system/src/umb_master/umb_master.c **** #include <stdio.h>
  10:../system/src/umb_master/umb_master.c **** 
  11:../system/src/umb_master/umb_master.c **** #include <umb_master/umb_0x26_status.h>
  12:../system/src/umb_master/umb_master.c **** #include <umb_master/umb_0x23_offline_data.h>
  13:../system/src/umb_master/umb_master.c **** #include <umb_master/umb_master.h>
  14:../system/src/umb_master/umb_master.c **** #include <umb_master/umb_channel_pool.h>
  15:../system/src/umb_master/umb_master.c **** #include <rte_wx.h>
  16:../system/src/umb_master/umb_master.c **** 
  17:../system/src/umb_master/umb_master.c **** #define SOH 0x01
  18:../system/src/umb_master/umb_master.c **** #define STX 0x02
  19:../system/src/umb_master/umb_master.c **** #define ETX 0x03
  20:../system/src/umb_master/umb_master.c **** #define EOT 0x04
  21:../system/src/umb_master/umb_master.c **** 
  22:../system/src/umb_master/umb_master.c **** #define V10 0x10
  23:../system/src/umb_master/umb_master.c **** 
  24:../system/src/umb_master/umb_master.c **** #define MASTER_ID 0x01
  25:../system/src/umb_master/umb_master.c **** #define MASTER_CLASS 0xF0
  26:../system/src/umb_master/umb_master.c **** 
  27:../system/src/umb_master/umb_master.c **** #define TEN_MINUTES (1000 * 600)
  28:../system/src/umb_master/umb_master.c **** 
  29:../system/src/umb_master/umb_master.c **** void umb_master_init(umb_context_t* ctx, srl_context_t* serial_ctx, const config_data_umb_t * const
  28              		.loc 1 29 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  33              	.LVL0:
  34 0000 10B4     		push	{r4}
  35              		.cfi_def_cfa_offset 4
  36              		.cfi_offset 4, -4
  30:../system/src/umb_master/umb_master.c **** 	ctx->current_routine = -1;
  37              		.loc 1 30 0
  38 0002 4FF6FF73 		movw	r3, #65535
  39 0006 0380     		strh	r3, [r0]	@ movhi
  31:../system/src/umb_master/umb_master.c **** 	ctx->state = UMB_STATUS_IDLE;
  40              		.loc 1 31 0
  41 0008 0023     		movs	r3, #0
  42 000a 0376     		strb	r3, [r0, #24]
  32:../system/src/umb_master/umb_master.c **** 	ctx->nok_error_it = 0;
  43              		.loc 1 32 0
  44 000c 8371     		strb	r3, [r0, #6]
  33:../system/src/umb_master/umb_master.c **** 	ctx->time_of_last_nok = 0xFFFFFFFFu;
  45              		.loc 1 33 0
  46 000e 4FF0FF34 		mov	r4, #-1
  47 0012 C460     		str	r4, [r0, #12]
  34:../system/src/umb_master/umb_master.c **** 	ctx->time_of_last_comms_timeout = 0xFFFFFFFFu;
  48              		.loc 1 34 0
  49 0014 0461     		str	r4, [r0, #16]
  35:../system/src/umb_master/umb_master.c **** 
  36:../system/src/umb_master/umb_master.c **** 	ctx->time_of_last_successful_comms = 0;
  50              		.loc 1 36 0
  51 0016 4361     		str	r3, [r0, #20]
  37:../system/src/umb_master/umb_master.c **** 
  38:../system/src/umb_master/umb_master.c **** 	ctx->last_fault_channel = 0;
  52              		.loc 1 38 0
  53 0018 0381     		strh	r3, [r0, #8]	@ movhi
  39:../system/src/umb_master/umb_master.c **** 
  40:../system/src/umb_master/umb_master.c **** 	ctx->serial_context = serial_ctx;
  54              		.loc 1 40 0
  55 001a C162     		str	r1, [r0, #44]
  56              	.LVL1:
  57              	.LBB2:
  41:../system/src/umb_master/umb_master.c **** 
  42:../system/src/umb_master/umb_master.c **** 	for (int i = 0; i < UMB_CONTEXT_ERR_HISTORY_LN; i++) {
  58              		.loc 1 42 0
  59 001c 03E0     		b	.L2
  60              	.LVL2:
  61              	.L3:
  43:../system/src/umb_master/umb_master.c **** 		ctx->nok_error_codes[i] = 0;
  62              		.loc 1 43 0 discriminator 3
  63 001e C118     		adds	r1, r0, r3
  64 0020 0024     		movs	r4, #0
  65 0022 8C70     		strb	r4, [r1, #2]
  42:../system/src/umb_master/umb_master.c **** 		ctx->nok_error_codes[i] = 0;
  66              		.loc 1 42 0 discriminator 3
  67 0024 0133     		adds	r3, r3, #1
  68              	.LVL3:
  69              	.L2:
  42:../system/src/umb_master/umb_master.c **** 		ctx->nok_error_codes[i] = 0;
  70              		.loc 1 42 0 is_stmt 0 discriminator 1
  71 0026 032B     		cmp	r3, #3
  72 0028 F9DD     		ble	.L3
  73              	.LBE2:
  74              	.LBB3:
  44:../system/src/umb_master/umb_master.c **** 	}
  45:../system/src/umb_master/umb_master.c **** 
  46:../system/src/umb_master/umb_master.c **** 	for (int i = 0; i < UMB_CHANNELS_STORAGE_CAPAC; i++)
  75              		.loc 1 46 0 is_stmt 1
  76 002a 0023     		movs	r3, #0
  77              	.LVL4:
  78 002c 05E0     		b	.L4
  79              	.LVL5:
  80              	.L5:
  47:../system/src/umb_master/umb_master.c **** 		rte_wx_umb_channel_values[i][0] = 0xFFFF;
  81              		.loc 1 47 0 discriminator 3
  82 002e 0A49     		ldr	r1, .L7
  83 0030 4FF6FF74 		movw	r4, #65535
  84 0034 21F82340 		strh	r4, [r1, r3, lsl #2]	@ movhi
  46:../system/src/umb_master/umb_master.c **** 		rte_wx_umb_channel_values[i][0] = 0xFFFF;
  85              		.loc 1 46 0 discriminator 3
  86 0038 0133     		adds	r3, r3, #1
  87              	.LVL6:
  88              	.L4:
  46:../system/src/umb_master/umb_master.c **** 		rte_wx_umb_channel_values[i][0] = 0xFFFF;
  89              		.loc 1 46 0 is_stmt 0 discriminator 1
  90 003a 052B     		cmp	r3, #5
  91 003c F7DD     		ble	.L5
  92              	.LBE3:
  48:../system/src/umb_master/umb_master.c **** 
  49:../system/src/umb_master/umb_master.c **** 	ctx->channel_numbers[0] = config_umb->channel_windspeed;
  93              		.loc 1 49 0 is_stmt 1
  94 003e 9388     		ldrh	r3, [r2, #4]
  95              	.LVL7:
  96 0040 4383     		strh	r3, [r0, #26]	@ movhi
  50:../system/src/umb_master/umb_master.c **** 
  51:../system/src/umb_master/umb_master.c **** 	ctx->channel_numbers[1] = config_umb->channel_wingsusts;
  97              		.loc 1 51 0
  98 0042 D388     		ldrh	r3, [r2, #6]
  99 0044 8383     		strh	r3, [r0, #28]	@ movhi
  52:../system/src/umb_master/umb_master.c **** 
  53:../system/src/umb_master/umb_master.c **** 	ctx->channel_numbers[2] = config_umb->channel_winddirection;
 100              		.loc 1 53 0
 101 0046 1389     		ldrh	r3, [r2, #8]
 102 0048 C383     		strh	r3, [r0, #30]	@ movhi
  54:../system/src/umb_master/umb_master.c **** 
  55:../system/src/umb_master/umb_master.c **** 	ctx->channel_numbers[3] = config_umb->channel_temperature;
 103              		.loc 1 55 0
 104 004a 5389     		ldrh	r3, [r2, #10]
 105 004c 0384     		strh	r3, [r0, #32]	@ movhi
  56:../system/src/umb_master/umb_master.c **** 
  57:../system/src/umb_master/umb_master.c **** 	ctx->channel_numbers[4] = config_umb->channel_qnh;
 106              		.loc 1 57 0
 107 004e 9389     		ldrh	r3, [r2, #12]
 108 0050 4384     		strh	r3, [r0, #34]	@ movhi
  58:../system/src/umb_master/umb_master.c **** 
  59:../system/src/umb_master/umb_master.c **** }
 109              		.loc 1 59 0
 110 0052 5DF8044B 		ldr	r4, [sp], #4
 111              		.cfi_restore 4
 112              		.cfi_def_cfa_offset 0
 113 0056 7047     		bx	lr
 114              	.L8:
 115              		.align	2
 116              	.L7:
 117 0058 00000000 		.word	rte_wx_umb_channel_values
 118              		.cfi_endproc
 119              	.LFE393:
 121              		.section	.text.umb_calc_crc,"ax",%progbits
 122              		.align	1
 123              		.global	umb_calc_crc
 124              		.syntax unified
 125              		.thumb
 126              		.thumb_func
 127              		.fpu fpv4-sp-d16
 129              	umb_calc_crc:
 130              	.LFB396:
  60:../system/src/umb_master/umb_master.c **** 
  61:../system/src/umb_master/umb_master.c **** umb_retval_t umb_parse_serial_buffer_to_frame(uint8_t* serial_buffer, uint16_t buffer_ln, umb_frame
  62:../system/src/umb_master/umb_master.c **** 
  63:../system/src/umb_master/umb_master.c **** 	uint16_t crc = 0xFFFFu;
  64:../system/src/umb_master/umb_master.c **** 
  65:../system/src/umb_master/umb_master.c **** 	if (serial_buffer[0] != SOH && serial_buffer[1] != V10)
  66:../system/src/umb_master/umb_master.c **** 		return UMB_NOT_VALID_FRAME;
  67:../system/src/umb_master/umb_master.c **** 
  68:../system/src/umb_master/umb_master.c **** 	if (serial_buffer[3] != (MASTER_CLASS >> 4) && serial_buffer[2] != MASTER_ID)
  69:../system/src/umb_master/umb_master.c **** 		return UMB_TO_ANOTHER_MASTER;
  70:../system/src/umb_master/umb_master.c **** 
  71:../system/src/umb_master/umb_master.c **** 	frame->slave_class 		= serial_buffer[5] >> 4;
  72:../system/src/umb_master/umb_master.c **** 	frame->slave_id 		= serial_buffer[4];
  73:../system/src/umb_master/umb_master.c **** 	frame->lenght 			= serial_buffer[6] - 2;
  74:../system/src/umb_master/umb_master.c **** 
  75:../system/src/umb_master/umb_master.c **** 	if (serial_buffer[7] != STX)
  76:../system/src/umb_master/umb_master.c **** 		return UMB_NOT_VALID_FRAME;
  77:../system/src/umb_master/umb_master.c **** 
  78:../system/src/umb_master/umb_master.c **** 	frame->command_id		= serial_buffer[8];
  79:../system/src/umb_master/umb_master.c **** 	frame->protocol_version = serial_buffer[9];
  80:../system/src/umb_master/umb_master.c **** 
  81:../system/src/umb_master/umb_master.c **** 	// checking if payload isn't too big to fit into structure
  82:../system/src/umb_master/umb_master.c **** 	if (frame->lenght >= UMB_FRAME_MAX_PAYLOAD_LN)
  83:../system/src/umb_master/umb_master.c **** 		return UMB_RECV_FRAME_TOO_LONG;
  84:../system/src/umb_master/umb_master.c **** 
  85:../system/src/umb_master/umb_master.c **** 	// Copying payload of the frame from a serial buffer
  86:../system/src/umb_master/umb_master.c **** 	for (int i = 0; (i < frame->lenght && i < buffer_ln); i++) {
  87:../system/src/umb_master/umb_master.c **** 		frame->payload[i] = serial_buffer[10 + i];
  88:../system/src/umb_master/umb_master.c **** 	}
  89:../system/src/umb_master/umb_master.c **** 
  90:../system/src/umb_master/umb_master.c **** 	// recalculating crc from frame content
  91:../system/src/umb_master/umb_master.c **** 	for (int j = 0; j <= frame->lenght + 8 + 2; j++) {
  92:../system/src/umb_master/umb_master.c **** 		crc = umb_calc_crc(crc, serial_buffer[j]);
  93:../system/src/umb_master/umb_master.c **** 	}
  94:../system/src/umb_master/umb_master.c **** 
  95:../system/src/umb_master/umb_master.c **** 	frame->calculated_checksum_lsb = crc & 0xFF;
  96:../system/src/umb_master/umb_master.c **** 	frame->calculated_checksum_msb = (crc & 0xFF00) >> 8;
  97:../system/src/umb_master/umb_master.c **** 
  98:../system/src/umb_master/umb_master.c **** 	if (	serial_buffer[frame->lenght + 9 + 2] != frame->calculated_checksum_lsb ||
  99:../system/src/umb_master/umb_master.c **** 			serial_buffer[frame->lenght + 10 + 2] != frame->calculated_checksum_msb)
 100:../system/src/umb_master/umb_master.c **** 		return UMB_WRONG_CRC;
 101:../system/src/umb_master/umb_master.c **** 
 102:../system/src/umb_master/umb_master.c **** 	return UMB_OK;
 103:../system/src/umb_master/umb_master.c **** }
 104:../system/src/umb_master/umb_master.c **** 
 105:../system/src/umb_master/umb_master.c **** umb_retval_t umb_parse_frame_to_serial_buffer(uint8_t* serial_buffer, uint16_t buffer_ln, umb_frame
 106:../system/src/umb_master/umb_master.c **** 
 107:../system/src/umb_master/umb_master.c **** 	int i = 0;
 108:../system/src/umb_master/umb_master.c **** 	uint16_t crc = 0xFFFFu;
 109:../system/src/umb_master/umb_master.c **** 
 110:../system/src/umb_master/umb_master.c **** 	if (frame->lenght - 2 >= buffer_ln)
 111:../system/src/umb_master/umb_master.c **** 		return UMB_FRAME_TOO_LONG_FOR_TX;
 112:../system/src/umb_master/umb_master.c **** 
 113:../system/src/umb_master/umb_master.c **** 	memset(serial_buffer, 0x00, buffer_ln);
 114:../system/src/umb_master/umb_master.c **** 
 115:../system/src/umb_master/umb_master.c **** 	serial_buffer[i++] = SOH;
 116:../system/src/umb_master/umb_master.c **** 	serial_buffer[i++] = V10;
 117:../system/src/umb_master/umb_master.c **** 	serial_buffer[i++] = (uint8_t)(config_umb->slave_id & 0xFF); //_UMB_SLAVE_ID;
 118:../system/src/umb_master/umb_master.c **** 	serial_buffer[i++] = (uint8_t)(config_umb->slave_class & 0xFF) << 4;//_UMB_SLAVE_CLASS << 4;
 119:../system/src/umb_master/umb_master.c **** 	serial_buffer[i++] = MASTER_ID;
 120:../system/src/umb_master/umb_master.c **** 	serial_buffer[i++] = MASTER_CLASS;
 121:../system/src/umb_master/umb_master.c **** 	serial_buffer[i++] = frame->lenght + 2;
 122:../system/src/umb_master/umb_master.c **** 	serial_buffer[i++] = STX;
 123:../system/src/umb_master/umb_master.c **** 	serial_buffer[i++] = frame->command_id;
 124:../system/src/umb_master/umb_master.c **** 	serial_buffer[i++] = V10;
 125:../system/src/umb_master/umb_master.c **** 
 126:../system/src/umb_master/umb_master.c **** 	for (int j = 0; j < frame->lenght; j++) {
 127:../system/src/umb_master/umb_master.c **** 		serial_buffer[i++] = frame->payload[j];
 128:../system/src/umb_master/umb_master.c **** 	}
 129:../system/src/umb_master/umb_master.c **** 
 130:../system/src/umb_master/umb_master.c **** 	serial_buffer[i++] = ETX;
 131:../system/src/umb_master/umb_master.c **** 
 132:../system/src/umb_master/umb_master.c **** 	for (int j = 0; j < i; j++) {
 133:../system/src/umb_master/umb_master.c **** 		crc = umb_calc_crc(crc, serial_buffer[j]);
 134:../system/src/umb_master/umb_master.c **** 	}
 135:../system/src/umb_master/umb_master.c **** 
 136:../system/src/umb_master/umb_master.c **** 	serial_buffer[i++] = (uint8_t) crc & 0xFF;
 137:../system/src/umb_master/umb_master.c **** 	serial_buffer[i++] = (uint8_t) ((crc & 0xFF00) >> 8);
 138:../system/src/umb_master/umb_master.c **** 	serial_buffer[i++] = EOT;
 139:../system/src/umb_master/umb_master.c **** 
 140:../system/src/umb_master/umb_master.c **** 	*target_ln = (uint16_t)i;
 141:../system/src/umb_master/umb_master.c **** 
 142:../system/src/umb_master/umb_master.c **** 	return UMB_OK;
 143:../system/src/umb_master/umb_master.c **** }
 144:../system/src/umb_master/umb_master.c **** 
 145:../system/src/umb_master/umb_master.c **** uint16_t umb_calc_crc(uint16_t crc_buff, uint8_t input) {
 131              		.loc 1 145 0
 132              		.cfi_startproc
 133              		@ args = 0, pretend = 0, frame = 0
 134              		@ frame_needed = 0, uses_anonymous_args = 0
 135              		@ link register save eliminated.
 136              	.LVL8:
 146:../system/src/umb_master/umb_master.c **** 	uint8_t i;
 147:../system/src/umb_master/umb_master.c **** 	uint16_t x16;
 148:../system/src/umb_master/umb_master.c **** 	for	(i=0; i<8; i++)
 137              		.loc 1 148 0
 138 0000 0023     		movs	r3, #0
 139 0002 05E0     		b	.L10
 140              	.LVL9:
 141              	.L13:
 149:../system/src/umb_master/umb_master.c **** 	{
 150:../system/src/umb_master/umb_master.c **** 		// XOR current D0 and next input bit to determine x16 value
 151:../system/src/umb_master/umb_master.c **** 		if		( (crc_buff & 0x0001) ^ (input & 0x01) )
 152:../system/src/umb_master/umb_master.c **** 			x16 = 0x8408;
 153:../system/src/umb_master/umb_master.c **** 		else
 154:../system/src/umb_master/umb_master.c **** 			x16 = 0x0000;
 142              		.loc 1 154 0
 143 0004 0022     		movs	r2, #0
 144              	.L11:
 145              	.LVL10:
 155:../system/src/umb_master/umb_master.c **** 		// shift crc buffer
 156:../system/src/umb_master/umb_master.c **** 		crc_buff = crc_buff >> 1;
 157:../system/src/umb_master/umb_master.c **** 		// XOR in the x16 value
 158:../system/src/umb_master/umb_master.c **** 		crc_buff ^= x16;
 146              		.loc 1 158 0 discriminator 2
 147 0006 82EA5000 		eor	r0, r2, r0, lsr #1
 148              	.LVL11:
 159:../system/src/umb_master/umb_master.c **** 		// shift input for next iteration
 160:../system/src/umb_master/umb_master.c **** 		input = input >> 1;
 149              		.loc 1 160 0 discriminator 2
 150 000a 4908     		lsrs	r1, r1, #1
 151              	.LVL12:
 148:../system/src/umb_master/umb_master.c **** 	{
 152              		.loc 1 148 0 discriminator 2
 153 000c 0133     		adds	r3, r3, #1
 154              	.LVL13:
 155 000e DBB2     		uxtb	r3, r3
 156              	.LVL14:
 157              	.L10:
 148:../system/src/umb_master/umb_master.c **** 	{
 158              		.loc 1 148 0 is_stmt 0 discriminator 1
 159 0010 072B     		cmp	r3, #7
 160 0012 07D8     		bhi	.L14
 151:../system/src/umb_master/umb_master.c **** 			x16 = 0x8408;
 161              		.loc 1 151 0 is_stmt 1
 162 0014 80EA0102 		eor	r2, r0, r1
 163 0018 12F0010F 		tst	r2, #1
 164 001c F2D0     		beq	.L13
 152:../system/src/umb_master/umb_master.c **** 		else
 165              		.loc 1 152 0
 166 001e 48F20842 		movw	r2, #33800
 167 0022 F0E7     		b	.L11
 168              	.L14:
 161:../system/src/umb_master/umb_master.c **** 	}
 162:../system/src/umb_master/umb_master.c **** 	return (crc_buff);
 163:../system/src/umb_master/umb_master.c **** }
 169              		.loc 1 163 0
 170 0024 7047     		bx	lr
 171              		.cfi_endproc
 172              	.LFE396:
 174              		.section	.text.umb_parse_serial_buffer_to_frame,"ax",%progbits
 175              		.align	1
 176              		.global	umb_parse_serial_buffer_to_frame
 177              		.syntax unified
 178              		.thumb
 179              		.thumb_func
 180              		.fpu fpv4-sp-d16
 182              	umb_parse_serial_buffer_to_frame:
 183              	.LFB394:
  61:../system/src/umb_master/umb_master.c **** 
 184              		.loc 1 61 0
 185              		.cfi_startproc
 186              		@ args = 0, pretend = 0, frame = 0
 187              		@ frame_needed = 0, uses_anonymous_args = 0
 188              	.LVL15:
  65:../system/src/umb_master/umb_master.c **** 		return UMB_NOT_VALID_FRAME;
 189              		.loc 1 65 0
 190 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 191 0002 012B     		cmp	r3, #1
 192 0004 02D0     		beq	.L16
  65:../system/src/umb_master/umb_master.c **** 		return UMB_NOT_VALID_FRAME;
 193              		.loc 1 65 0 is_stmt 0 discriminator 1
 194 0006 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 195 0008 102B     		cmp	r3, #16
 196 000a 4DD1     		bne	.L24
 197              	.L16:
  68:../system/src/umb_master/umb_master.c **** 		return UMB_TO_ANOTHER_MASTER;
 198              		.loc 1 68 0 is_stmt 1
 199 000c C378     		ldrb	r3, [r0, #3]	@ zero_extendqisi2
 200 000e 0F2B     		cmp	r3, #15
 201 0010 02D0     		beq	.L18
  68:../system/src/umb_master/umb_master.c **** 		return UMB_TO_ANOTHER_MASTER;
 202              		.loc 1 68 0 is_stmt 0 discriminator 1
 203 0012 8378     		ldrb	r3, [r0, #2]	@ zero_extendqisi2
 204 0014 012B     		cmp	r3, #1
 205 0016 4AD1     		bne	.L25
 206              	.L18:
  61:../system/src/umb_master/umb_master.c **** 
 207              		.loc 1 61 0 is_stmt 1
 208 0018 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 209              		.cfi_def_cfa_offset 24
 210              		.cfi_offset 4, -24
 211              		.cfi_offset 5, -20
 212              		.cfi_offset 6, -16
 213              		.cfi_offset 7, -12
 214              		.cfi_offset 8, -8
 215              		.cfi_offset 14, -4
  71:../system/src/umb_master/umb_master.c **** 	frame->slave_id 		= serial_buffer[4];
 216              		.loc 1 71 0
 217 001c 4379     		ldrb	r3, [r0, #5]	@ zero_extendqisi2
 218 001e 1B09     		lsrs	r3, r3, #4
 219 0020 9370     		strb	r3, [r2, #2]
  72:../system/src/umb_master/umb_master.c **** 	frame->lenght 			= serial_buffer[6] - 2;
 220              		.loc 1 72 0
 221 0022 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 222 0024 5370     		strb	r3, [r2, #1]
  73:../system/src/umb_master/umb_master.c **** 
 223              		.loc 1 73 0
 224 0026 8679     		ldrb	r6, [r0, #6]	@ zero_extendqisi2
 225 0028 023E     		subs	r6, r6, #2
 226 002a F6B2     		uxtb	r6, r6
 227 002c D670     		strb	r6, [r2, #3]
  75:../system/src/umb_master/umb_master.c **** 		return UMB_NOT_VALID_FRAME;
 228              		.loc 1 75 0
 229 002e C379     		ldrb	r3, [r0, #7]	@ zero_extendqisi2
 230 0030 022B     		cmp	r3, #2
 231 0032 3FD1     		bne	.L26
  78:../system/src/umb_master/umb_master.c **** 	frame->protocol_version = serial_buffer[9];
 232              		.loc 1 78 0
 233 0034 037A     		ldrb	r3, [r0, #8]	@ zero_extendqisi2
 234 0036 1371     		strb	r3, [r2, #4]
  79:../system/src/umb_master/umb_master.c **** 
 235              		.loc 1 79 0
 236 0038 437A     		ldrb	r3, [r0, #9]	@ zero_extendqisi2
 237 003a 1370     		strb	r3, [r2]
  82:../system/src/umb_master/umb_master.c **** 		return UMB_RECV_FRAME_TOO_LONG;
 238              		.loc 1 82 0
 239 003c 272E     		cmp	r6, #39
 240 003e 3CD8     		bhi	.L27
 241 0040 1746     		mov	r7, r2
 242 0042 0446     		mov	r4, r0
 243              	.LBB4:
  86:../system/src/umb_master/umb_master.c **** 		frame->payload[i] = serial_buffer[10 + i];
 244              		.loc 1 86 0
 245 0044 0023     		movs	r3, #0
 246 0046 05E0     		b	.L19
 247              	.LVL16:
 248              	.L21:
  87:../system/src/umb_master/umb_master.c **** 	}
 249              		.loc 1 87 0 discriminator 4
 250 0048 03F10A02 		add	r2, r3, #10
 251 004c A05C     		ldrb	r0, [r4, r2]	@ zero_extendqisi2
 252 004e FA18     		adds	r2, r7, r3
 253 0050 5071     		strb	r0, [r2, #5]
  86:../system/src/umb_master/umb_master.c **** 		frame->payload[i] = serial_buffer[10 + i];
 254              		.loc 1 86 0 discriminator 4
 255 0052 0133     		adds	r3, r3, #1
 256              	.LVL17:
 257              	.L19:
  86:../system/src/umb_master/umb_master.c **** 		frame->payload[i] = serial_buffer[10 + i];
 258              		.loc 1 86 0 is_stmt 0 discriminator 1
 259 0054 B046     		mov	r8, r6
 260 0056 9E42     		cmp	r6, r3
 261 0058 1FDD     		ble	.L28
  86:../system/src/umb_master/umb_master.c **** 		frame->payload[i] = serial_buffer[10 + i];
 262              		.loc 1 86 0 discriminator 3
 263 005a 9942     		cmp	r1, r3
 264 005c F4DC     		bgt	.L21
 265 005e 0025     		movs	r5, #0
 266 0060 4FF6FF70 		movw	r0, #65535
 267 0064 03E0     		b	.L22
 268              	.LVL18:
 269              	.L23:
 270              	.LBE4:
 271              	.LBB5:
  92:../system/src/umb_master/umb_master.c **** 	}
 272              		.loc 1 92 0 is_stmt 1 discriminator 3
 273 0066 615D     		ldrb	r1, [r4, r5]	@ zero_extendqisi2
 274 0068 FFF7FEFF 		bl	umb_calc_crc
 275              	.LVL19:
  91:../system/src/umb_master/umb_master.c **** 		crc = umb_calc_crc(crc, serial_buffer[j]);
 276              		.loc 1 91 0 discriminator 3
 277 006c 0135     		adds	r5, r5, #1
 278              	.LVL20:
 279              	.L22:
  91:../system/src/umb_master/umb_master.c **** 		crc = umb_calc_crc(crc, serial_buffer[j]);
 280              		.loc 1 91 0 is_stmt 0 discriminator 1
 281 006e 08F10A03 		add	r3, r8, #10
 282 0072 AB42     		cmp	r3, r5
 283 0074 F7DA     		bge	.L23
 284              	.LBE5:
  95:../system/src/umb_master/umb_master.c **** 	frame->calculated_checksum_msb = (crc & 0xFF00) >> 8;
 285              		.loc 1 95 0 is_stmt 1
 286 0076 C3B2     		uxtb	r3, r0
 287 0078 87F82D30 		strb	r3, [r7, #45]
  96:../system/src/umb_master/umb_master.c **** 
 288              		.loc 1 96 0
 289 007c C0F30720 		ubfx	r0, r0, #8, #8
 290              	.LVL21:
 291 0080 87F82E00 		strb	r0, [r7, #46]
  98:../system/src/umb_master/umb_master.c **** 			serial_buffer[frame->lenght + 10 + 2] != frame->calculated_checksum_msb)
 292              		.loc 1 98 0
 293 0084 A219     		adds	r2, r4, r6
 294 0086 D27A     		ldrb	r2, [r2, #11]	@ zero_extendqisi2
 295 0088 9342     		cmp	r3, r2
 296 008a 19D1     		bne	.L29
  99:../system/src/umb_master/umb_master.c **** 		return UMB_WRONG_CRC;
 297              		.loc 1 99 0 discriminator 1
 298 008c 3444     		add	r4, r4, r6
 299              	.LVL22:
 300 008e 237B     		ldrb	r3, [r4, #12]	@ zero_extendqisi2
  98:../system/src/umb_master/umb_master.c **** 			serial_buffer[frame->lenght + 10 + 2] != frame->calculated_checksum_msb)
 301              		.loc 1 98 0 discriminator 1
 302 0090 9842     		cmp	r0, r3
 303 0092 06D1     		bne	.L34
 102:../system/src/umb_master/umb_master.c **** }
 304              		.loc 1 102 0
 305 0094 0020     		movs	r0, #0
 306              	.LVL23:
 307              	.L17:
 103:../system/src/umb_master/umb_master.c **** 
 308              		.loc 1 103 0
 309 0096 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 310              	.LVL24:
 311              	.L28:
 312              	.LBB6:
 313 009a 0025     		movs	r5, #0
 314 009c 4FF6FF70 		movw	r0, #65535
 315 00a0 E5E7     		b	.L22
 316              	.LVL25:
 317              	.L34:
 318              	.LBE6:
 100:../system/src/umb_master/umb_master.c **** 
 319              		.loc 1 100 0
 320 00a2 6FF00400 		mvn	r0, #4
 321 00a6 F6E7     		b	.L17
 322              	.LVL26:
 323              	.L24:
 324              		.cfi_def_cfa_offset 0
 325              		.cfi_restore 4
 326              		.cfi_restore 5
 327              		.cfi_restore 6
 328              		.cfi_restore 7
 329              		.cfi_restore 8
 330              		.cfi_restore 14
  66:../system/src/umb_master/umb_master.c **** 
 331              		.loc 1 66 0
 332 00a8 6FF00100 		mvn	r0, #1
 333              	.LVL27:
 334 00ac 7047     		bx	lr
 335              	.LVL28:
 336              	.L25:
  69:../system/src/umb_master/umb_master.c **** 
 337              		.loc 1 69 0
 338 00ae 6FF00200 		mvn	r0, #2
 339              	.LVL29:
 103:../system/src/umb_master/umb_master.c **** 
 340              		.loc 1 103 0
 341 00b2 7047     		bx	lr
 342              	.LVL30:
 343              	.L26:
 344              		.cfi_def_cfa_offset 24
 345              		.cfi_offset 4, -24
 346              		.cfi_offset 5, -20
 347              		.cfi_offset 6, -16
 348              		.cfi_offset 7, -12
 349              		.cfi_offset 8, -8
 350              		.cfi_offset 14, -4
  76:../system/src/umb_master/umb_master.c **** 
 351              		.loc 1 76 0
 352 00b4 6FF00100 		mvn	r0, #1
 353              	.LVL31:
 354 00b8 EDE7     		b	.L17
 355              	.LVL32:
 356              	.L27:
  83:../system/src/umb_master/umb_master.c **** 
 357              		.loc 1 83 0
 358 00ba 6FF00300 		mvn	r0, #3
 359              	.LVL33:
 360 00be EAE7     		b	.L17
 361              	.LVL34:
 362              	.L29:
 100:../system/src/umb_master/umb_master.c **** 
 363              		.loc 1 100 0
 364 00c0 6FF00400 		mvn	r0, #4
 365 00c4 E7E7     		b	.L17
 366              		.cfi_endproc
 367              	.LFE394:
 369              		.section	.text.umb_parse_frame_to_serial_buffer,"ax",%progbits
 370              		.align	1
 371              		.global	umb_parse_frame_to_serial_buffer
 372              		.syntax unified
 373              		.thumb
 374              		.thumb_func
 375              		.fpu fpv4-sp-d16
 377              	umb_parse_frame_to_serial_buffer:
 378              	.LFB395:
 105:../system/src/umb_master/umb_master.c **** 
 379              		.loc 1 105 0
 380              		.cfi_startproc
 381              		@ args = 4, pretend = 0, frame = 0
 382              		@ frame_needed = 0, uses_anonymous_args = 0
 383              	.LVL35:
 384 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 385              		.cfi_def_cfa_offset 24
 386              		.cfi_offset 4, -24
 387              		.cfi_offset 5, -20
 388              		.cfi_offset 6, -16
 389              		.cfi_offset 7, -12
 390              		.cfi_offset 8, -8
 391              		.cfi_offset 14, -4
 392 0004 DDF81880 		ldr	r8, [sp, #24]
 393              	.LVL36:
 110:../system/src/umb_master/umb_master.c **** 		return UMB_FRAME_TOO_LONG_FOR_TX;
 394              		.loc 1 110 0
 395 0008 D578     		ldrb	r5, [r2, #3]	@ zero_extendqisi2
 396 000a 023D     		subs	r5, r5, #2
 397 000c 8D42     		cmp	r5, r1
 398 000e 43DA     		bge	.L41
 399 0010 1F46     		mov	r7, r3
 400 0012 1646     		mov	r6, r2
 401 0014 0A46     		mov	r2, r1
 402              	.LVL37:
 403 0016 0446     		mov	r4, r0
 113:../system/src/umb_master/umb_master.c **** 
 404              		.loc 1 113 0
 405 0018 0021     		movs	r1, #0
 406              	.LVL38:
 407 001a FFF7FEFF 		bl	memset
 408              	.LVL39:
 115:../system/src/umb_master/umb_master.c **** 	serial_buffer[i++] = V10;
 409              		.loc 1 115 0
 410 001e 0121     		movs	r1, #1
 411 0020 2170     		strb	r1, [r4]
 412              	.LVL40:
 116:../system/src/umb_master/umb_master.c **** 	serial_buffer[i++] = (uint8_t)(config_umb->slave_id & 0xFF); //_UMB_SLAVE_ID;
 413              		.loc 1 116 0
 414 0022 1022     		movs	r2, #16
 415 0024 6270     		strb	r2, [r4, #1]
 416              	.LVL41:
 117:../system/src/umb_master/umb_master.c **** 	serial_buffer[i++] = (uint8_t)(config_umb->slave_class & 0xFF) << 4;//_UMB_SLAVE_CLASS << 4;
 417              		.loc 1 117 0
 418 0026 98F80230 		ldrb	r3, [r8, #2]	@ zero_extendqisi2
 419 002a A370     		strb	r3, [r4, #2]
 118:../system/src/umb_master/umb_master.c **** 	serial_buffer[i++] = MASTER_ID;
 420              		.loc 1 118 0
 421 002c 98F80030 		ldrb	r3, [r8]	@ zero_extendqisi2
 422              	.LVL42:
 423 0030 1B01     		lsls	r3, r3, #4
 424 0032 E370     		strb	r3, [r4, #3]
 425              	.LVL43:
 119:../system/src/umb_master/umb_master.c **** 	serial_buffer[i++] = MASTER_CLASS;
 426              		.loc 1 119 0
 427 0034 2171     		strb	r1, [r4, #4]
 428              	.LVL44:
 120:../system/src/umb_master/umb_master.c **** 	serial_buffer[i++] = frame->lenght + 2;
 429              		.loc 1 120 0
 430 0036 F023     		movs	r3, #240
 431 0038 6371     		strb	r3, [r4, #5]
 121:../system/src/umb_master/umb_master.c **** 	serial_buffer[i++] = STX;
 432              		.loc 1 121 0
 433 003a F378     		ldrb	r3, [r6, #3]	@ zero_extendqisi2
 434              	.LVL45:
 435 003c 0233     		adds	r3, r3, #2
 436 003e A371     		strb	r3, [r4, #6]
 437              	.LVL46:
 122:../system/src/umb_master/umb_master.c **** 	serial_buffer[i++] = frame->command_id;
 438              		.loc 1 122 0
 439 0040 0223     		movs	r3, #2
 440 0042 E371     		strb	r3, [r4, #7]
 441              	.LVL47:
 123:../system/src/umb_master/umb_master.c **** 	serial_buffer[i++] = V10;
 442              		.loc 1 123 0
 443 0044 3379     		ldrb	r3, [r6, #4]	@ zero_extendqisi2
 444 0046 2372     		strb	r3, [r4, #8]
 445              	.LVL48:
 124:../system/src/umb_master/umb_master.c **** 
 446              		.loc 1 124 0
 447 0048 6272     		strb	r2, [r4, #9]
 448              	.LVL49:
 449              	.LBB7:
 126:../system/src/umb_master/umb_master.c **** 		serial_buffer[i++] = frame->payload[j];
 450              		.loc 1 126 0
 451 004a 0021     		movs	r1, #0
 452              	.LBE7:
 124:../system/src/umb_master/umb_master.c **** 
 453              		.loc 1 124 0
 454 004c 0A25     		movs	r5, #10
 455              	.LBB8:
 126:../system/src/umb_master/umb_master.c **** 		serial_buffer[i++] = frame->payload[j];
 456              		.loc 1 126 0
 457 004e 04E0     		b	.L37
 458              	.LVL50:
 459              	.L38:
 127:../system/src/umb_master/umb_master.c **** 	}
 460              		.loc 1 127 0 discriminator 3
 461 0050 7318     		adds	r3, r6, r1
 462 0052 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 463 0054 6355     		strb	r3, [r4, r5]
 126:../system/src/umb_master/umb_master.c **** 		serial_buffer[i++] = frame->payload[j];
 464              		.loc 1 126 0 discriminator 3
 465 0056 0131     		adds	r1, r1, #1
 466              	.LVL51:
 127:../system/src/umb_master/umb_master.c **** 	}
 467              		.loc 1 127 0 discriminator 3
 468 0058 0135     		adds	r5, r5, #1
 469              	.LVL52:
 470              	.L37:
 126:../system/src/umb_master/umb_master.c **** 		serial_buffer[i++] = frame->payload[j];
 471              		.loc 1 126 0 discriminator 1
 472 005a F378     		ldrb	r3, [r6, #3]	@ zero_extendqisi2
 473 005c 8B42     		cmp	r3, r1
 474 005e F7DC     		bgt	.L38
 475              	.LBE8:
 130:../system/src/umb_master/umb_master.c **** 
 476              		.loc 1 130 0
 477 0060 05F10108 		add	r8, r5, #1
 478              	.LVL53:
 479 0064 0323     		movs	r3, #3
 480 0066 6355     		strb	r3, [r4, r5]
 481              	.LVL54:
 482              	.LBB9:
 132:../system/src/umb_master/umb_master.c **** 		crc = umb_calc_crc(crc, serial_buffer[j]);
 483              		.loc 1 132 0
 484 0068 0026     		movs	r6, #0
 485              	.LVL55:
 486              	.LBE9:
 108:../system/src/umb_master/umb_master.c **** 
 487              		.loc 1 108 0
 488 006a 4FF6FF70 		movw	r0, #65535
 489              	.LBB10:
 132:../system/src/umb_master/umb_master.c **** 		crc = umb_calc_crc(crc, serial_buffer[j]);
 490              		.loc 1 132 0
 491 006e 03E0     		b	.L39
 492              	.LVL56:
 493              	.L40:
 133:../system/src/umb_master/umb_master.c **** 	}
 494              		.loc 1 133 0 discriminator 3
 495 0070 A15D     		ldrb	r1, [r4, r6]	@ zero_extendqisi2
 496 0072 FFF7FEFF 		bl	umb_calc_crc
 497              	.LVL57:
 132:../system/src/umb_master/umb_master.c **** 		crc = umb_calc_crc(crc, serial_buffer[j]);
 498              		.loc 1 132 0 discriminator 3
 499 0076 0136     		adds	r6, r6, #1
 500              	.LVL58:
 501              	.L39:
 132:../system/src/umb_master/umb_master.c **** 		crc = umb_calc_crc(crc, serial_buffer[j]);
 502              		.loc 1 132 0 is_stmt 0 discriminator 1
 503 0078 4645     		cmp	r6, r8
 504 007a F9DB     		blt	.L40
 505              	.LBE10:
 136:../system/src/umb_master/umb_master.c **** 	serial_buffer[i++] = (uint8_t) ((crc & 0xFF00) >> 8);
 506              		.loc 1 136 0 is_stmt 1
 507 007c AA1C     		adds	r2, r5, #2
 508              	.LVL59:
 509 007e 04F80800 		strb	r0, [r4, r8]
 137:../system/src/umb_master/umb_master.c **** 	serial_buffer[i++] = EOT;
 510              		.loc 1 137 0
 511 0082 EB1C     		adds	r3, r5, #3
 512              	.LVL60:
 513 0084 C0F30720 		ubfx	r0, r0, #8, #8
 514              	.LVL61:
 515 0088 A054     		strb	r0, [r4, r2]
 138:../system/src/umb_master/umb_master.c **** 
 516              		.loc 1 138 0
 517 008a 0435     		adds	r5, r5, #4
 518              	.LVL62:
 519 008c 0422     		movs	r2, #4
 520 008e E254     		strb	r2, [r4, r3]
 140:../system/src/umb_master/umb_master.c **** 
 521              		.loc 1 140 0
 522 0090 3D80     		strh	r5, [r7]	@ movhi
 142:../system/src/umb_master/umb_master.c **** }
 523              		.loc 1 142 0
 524 0092 0020     		movs	r0, #0
 525              	.LVL63:
 526              	.L36:
 143:../system/src/umb_master/umb_master.c **** 
 527              		.loc 1 143 0
 528 0094 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 529              	.LVL64:
 530              	.L41:
 111:../system/src/umb_master/umb_master.c **** 
 531              		.loc 1 111 0
 532 0098 4FF0FF30 		mov	r0, #-1
 533              	.LVL65:
 534 009c FAE7     		b	.L36
 535              		.cfi_endproc
 536              	.LFE395:
 538              		.section	.text.umb_master_callback,"ax",%progbits
 539              		.align	1
 540              		.global	umb_master_callback
 541              		.syntax unified
 542              		.thumb
 543              		.thumb_func
 544              		.fpu fpv4-sp-d16
 546              	umb_master_callback:
 547              	.LFB398:
 164:../system/src/umb_master/umb_master.c **** 
 165:../system/src/umb_master/umb_master.c **** /**
 166:../system/src/umb_master/umb_master.c ****  * This function is called in main 'for' loop to check if there
 167:../system/src/umb_master/umb_master.c ****  * is anything to do regarding UMB
 168:../system/src/umb_master/umb_master.c ****  */
 169:../system/src/umb_master/umb_master.c **** umb_retval_t umb_pooling_handler(umb_context_t* ctx, umb_call_reason_t r, uint32_t master_time, con
 170:../system/src/umb_master/umb_master.c **** 
 171:../system/src/umb_master/umb_master.c **** 	uint16_t temp = 0;
 172:../system/src/umb_master/umb_master.c **** 	umb_retval_t main_umb_retval = UMB_UNINITIALIZED;
 173:../system/src/umb_master/umb_master.c **** 
 174:../system/src/umb_master/umb_master.c **** 	switch(ctx->state) {
 175:../system/src/umb_master/umb_master.c **** 		case UMB_STATUS_IDLE:
 176:../system/src/umb_master/umb_master.c **** 			break;
 177:../system/src/umb_master/umb_master.c **** 		case UMB_STATUS_READY_TO_SEND: {
 178:../system/src/umb_master/umb_master.c **** 			// Check if serial port is idle and can be used in this moment to transmit something
 179:../system/src/umb_master/umb_master.c **** 			if (r == REASON_TRANSMIT_IDLE) {
 180:../system/src/umb_master/umb_master.c **** 				// parsing UMB frame into serial buffer
 181:../system/src/umb_master/umb_master.c **** 				umb_parse_frame_to_serial_buffer(ctx->serial_context->srl_tx_buf_pointer, ctx->serial_context->
 182:../system/src/umb_master/umb_master.c **** 
 183:../system/src/umb_master/umb_master.c **** 				// starting data transfer
 184:../system/src/umb_master/umb_master.c **** 				srl_start_tx(ctx->serial_context, temp);
 185:../system/src/umb_master/umb_master.c **** 
 186:../system/src/umb_master/umb_master.c **** 				// switching state
 187:../system/src/umb_master/umb_master.c **** 				ctx->state = UMB_STATUS_SENDING_REQUEST_TO_SLAVE;
 188:../system/src/umb_master/umb_master.c **** 			}
 189:../system/src/umb_master/umb_master.c **** 			break;
 190:../system/src/umb_master/umb_master.c **** 		}
 191:../system/src/umb_master/umb_master.c **** 		// when routine request generator created the frame which now waits to be send
 192:../system/src/umb_master/umb_master.c **** 		case UMB_STATUS_SENDING_REQUEST_TO_SLAVE: {
 193:../system/src/umb_master/umb_master.c **** 
 194:../system/src/umb_master/umb_master.c **** 			if (r == REASON_TRANSMIT_IDLE) {
 195:../system/src/umb_master/umb_master.c **** 				// transmission is done and now receive must be triggered
 196:../system/src/umb_master/umb_master.c **** 				srl_receive_data(ctx->serial_context, 8, SOH, 0x00, 0, 6, 12);
 197:../system/src/umb_master/umb_master.c **** 
 198:../system/src/umb_master/umb_master.c **** 				// enable timeout in case that sensor won't send any reponse
 199:../system/src/umb_master/umb_master.c **** 				srl_switch_timeout(ctx->serial_context, 1, 0);
 200:../system/src/umb_master/umb_master.c **** 				srl_switch_timeout_for_waiting(ctx->serial_context, 1);
 201:../system/src/umb_master/umb_master.c **** 
 202:../system/src/umb_master/umb_master.c **** 				ctx->state = UMB_STATUS_WAITING_FOR_RESPONSE;
 203:../system/src/umb_master/umb_master.c **** 			}
 204:../system/src/umb_master/umb_master.c **** 			//else if (srl_tx_state == SRL_TXING) {
 205:../system/src/umb_master/umb_master.c **** 			//	return UMB_BUSY;
 206:../system/src/umb_master/umb_master.c **** 			//}
 207:../system/src/umb_master/umb_master.c **** 			else {
 208:../system/src/umb_master/umb_master.c **** 				;
 209:../system/src/umb_master/umb_master.c **** 			}
 210:../system/src/umb_master/umb_master.c **** 			break;
 211:../system/src/umb_master/umb_master.c **** 		}
 212:../system/src/umb_master/umb_master.c **** 		case UMB_STATUS_WAITING_FOR_RESPONSE: {
 213:../system/src/umb_master/umb_master.c **** 			if (r == REASON_TRANSMIT_IDLE) {
 214:../system/src/umb_master/umb_master.c **** 
 215:../system/src/umb_master/umb_master.c **** 			}
 216:../system/src/umb_master/umb_master.c **** 			else if (r == REASON_RECEIVE_IDLE) {
 217:../system/src/umb_master/umb_master.c **** 				// deprcode the UMB frame from a content of serial buffer
 218:../system/src/umb_master/umb_master.c **** 				main_umb_retval = umb_parse_serial_buffer_to_frame(
 219:../system/src/umb_master/umb_master.c **** 																	srl_get_rx_buffer(ctx->serial_context),
 220:../system/src/umb_master/umb_master.c **** 																	srl_get_num_bytes_rxed(ctx->serial_context),
 221:../system/src/umb_master/umb_master.c **** 																	&rte_wx_umb);
 222:../system/src/umb_master/umb_master.c **** 
 223:../system/src/umb_master/umb_master.c **** 				// if data was decoded successfully
 224:../system/src/umb_master/umb_master.c **** 				if (main_umb_retval == UMB_OK) {
 225:../system/src/umb_master/umb_master.c **** 					// call a master callback to look what was received
 226:../system/src/umb_master/umb_master.c **** 					main_umb_retval = umb_master_callback(&rte_wx_umb, ctx);
 227:../system/src/umb_master/umb_master.c **** 
 228:../system/src/umb_master/umb_master.c **** 					if (main_umb_retval == UMB_OK) {
 229:../system/src/umb_master/umb_master.c **** 						ctx->time_of_last_successful_comms = master_time;
 230:../system/src/umb_master/umb_master.c **** 
 231:../system/src/umb_master/umb_master.c **** 						ctx->state = UMB_STATUS_RESPONSE_AVALIABLE;
 232:../system/src/umb_master/umb_master.c **** 					}
 233:../system/src/umb_master/umb_master.c **** 					else
 234:../system/src/umb_master/umb_master.c **** 						ctx->state = UMB_STATUS_ERROR;
 235:../system/src/umb_master/umb_master.c **** 				}
 236:../system/src/umb_master/umb_master.c **** 
 237:../system/src/umb_master/umb_master.c **** 
 238:../system/src/umb_master/umb_master.c **** 			}
 239:../system/src/umb_master/umb_master.c **** 			else if (r == REASON_RECEIVE_ERROR) {
 240:../system/src/umb_master/umb_master.c **** 				ctx->state = UMB_STATUS_ERROR;
 241:../system/src/umb_master/umb_master.c **** 
 242:../system/src/umb_master/umb_master.c **** 				ctx->time_of_last_comms_timeout = master_time;
 243:../system/src/umb_master/umb_master.c **** 
 244:../system/src/umb_master/umb_master.c **** 			}
 245:../system/src/umb_master/umb_master.c **** 			break;
 246:../system/src/umb_master/umb_master.c **** 		}
 247:../system/src/umb_master/umb_master.c **** 		case UMB_STATUS_RESPONSE_AVALIABLE: {
 248:../system/src/umb_master/umb_master.c **** 			if (r == REASON_RECEIVE_IDLE) {
 249:../system/src/umb_master/umb_master.c **** 				ctx->state = UMB_STATUS_IDLE;
 250:../system/src/umb_master/umb_master.c **** 
 251:../system/src/umb_master/umb_master.c **** 			}
 252:../system/src/umb_master/umb_master.c **** 			break;
 253:../system/src/umb_master/umb_master.c **** 		}
 254:../system/src/umb_master/umb_master.c **** 		case UMB_STATUS_ERROR: {
 255:../system/src/umb_master/umb_master.c **** 			ctx->state = UMB_STATUS_IDLE;
 256:../system/src/umb_master/umb_master.c **** 
 257:../system/src/umb_master/umb_master.c **** 			break;
 258:../system/src/umb_master/umb_master.c **** 		}
 259:../system/src/umb_master/umb_master.c **** 		case UMB_STATUS_ERROR_WRONG_RID_IN_RESPONSE: {
 260:../system/src/umb_master/umb_master.c **** 			ctx->state = UMB_STATUS_IDLE;
 261:../system/src/umb_master/umb_master.c **** 
 262:../system/src/umb_master/umb_master.c **** 			break;
 263:../system/src/umb_master/umb_master.c **** 		}
 264:../system/src/umb_master/umb_master.c **** 	}
 265:../system/src/umb_master/umb_master.c **** 
 266:../system/src/umb_master/umb_master.c **** 	return UMB_OK;
 267:../system/src/umb_master/umb_master.c **** }
 268:../system/src/umb_master/umb_master.c **** 
 269:../system/src/umb_master/umb_master.c **** /**
 270:../system/src/umb_master/umb_master.c ****  * This function is called globally after receiving any UMB data
 271:../system/src/umb_master/umb_master.c ****  */
 272:../system/src/umb_master/umb_master.c **** umb_retval_t umb_master_callback(umb_frame_t* frame, umb_context_t* ctx) {
 548              		.loc 1 272 0
 549              		.cfi_startproc
 550              		@ args = 0, pretend = 0, frame = 0
 551              		@ frame_needed = 0, uses_anonymous_args = 0
 552              	.LVL66:
 553 0000 38B5     		push	{r3, r4, r5, lr}
 554              		.cfi_def_cfa_offset 16
 555              		.cfi_offset 3, -16
 556              		.cfi_offset 4, -12
 557              		.cfi_offset 5, -8
 558              		.cfi_offset 14, -4
 559              	.LVL67:
 273:../system/src/umb_master/umb_master.c **** 
 274:../system/src/umb_master/umb_master.c **** 	umb_retval_t ret_fron_callback = UMB_UNINITIALIZED;
 275:../system/src/umb_master/umb_master.c **** 
 276:../system/src/umb_master/umb_master.c **** 	// check if this is a response to routine which was queried recently
 277:../system/src/umb_master/umb_master.c **** 	if (frame->command_id != ctx->current_routine) {
 560              		.loc 1 277 0
 561 0002 0379     		ldrb	r3, [r0, #4]	@ zero_extendqisi2
 562 0004 B1F90020 		ldrsh	r2, [r1]
 563 0008 9342     		cmp	r3, r2
 564 000a 06D1     		bne	.L52
 565 000c 0C46     		mov	r4, r1
 278:../system/src/umb_master/umb_master.c **** 		ctx->state = UMB_STATUS_ERROR_WRONG_RID_IN_RESPONSE;
 279:../system/src/umb_master/umb_master.c **** 
 280:../system/src/umb_master/umb_master.c **** 		return UMB_GENERAL_ERROR;
 281:../system/src/umb_master/umb_master.c **** 	}
 282:../system/src/umb_master/umb_master.c **** 
 283:../system/src/umb_master/umb_master.c **** 	// looking for a callback to this response
 284:../system/src/umb_master/umb_master.c **** 	switch (frame->command_id) {
 566              		.loc 1 284 0
 567 000e 232B     		cmp	r3, #35
 568 0010 08D0     		beq	.L46
 569 0012 262B     		cmp	r3, #38
 570 0014 10D0     		beq	.L47
 285:../system/src/umb_master/umb_master.c **** 		case 0x23: {
 286:../system/src/umb_master/umb_master.c **** 			ret_fron_callback = umb_0x23_offline_data_callback(frame, ctx);
 287:../system/src/umb_master/umb_master.c **** 
 288:../system/src/umb_master/umb_master.c **** 			if (ret_fron_callback == UMB_OK) {
 289:../system/src/umb_master/umb_master.c **** 				rte_wx_update_last_measuremenet_timers(ctx->current_channel);
 290:../system/src/umb_master/umb_master.c **** 			}
 291:../system/src/umb_master/umb_master.c **** 
 292:../system/src/umb_master/umb_master.c **** 			break;
 293:../system/src/umb_master/umb_master.c **** 		}
 294:../system/src/umb_master/umb_master.c **** 		case 0x26: {
 295:../system/src/umb_master/umb_master.c **** 			ret_fron_callback = umb_0x26_status_callback(frame, ctx);
 296:../system/src/umb_master/umb_master.c **** 			break;
 297:../system/src/umb_master/umb_master.c **** 		}
 298:../system/src/umb_master/umb_master.c **** 	}
 299:../system/src/umb_master/umb_master.c **** 
 300:../system/src/umb_master/umb_master.c **** 	return UMB_OK;
 571              		.loc 1 300 0
 572 0016 0025     		movs	r5, #0
 573 0018 11E0     		b	.L45
 574              	.L52:
 278:../system/src/umb_master/umb_master.c **** 		ctx->state = UMB_STATUS_ERROR_WRONG_RID_IN_RESPONSE;
 575              		.loc 1 278 0
 576 001a 0523     		movs	r3, #5
 577 001c 0B76     		strb	r3, [r1, #24]
 280:../system/src/umb_master/umb_master.c **** 	}
 578              		.loc 1 280 0
 579 001e 6FF03E05 		mvn	r5, #62
 580 0022 0CE0     		b	.L45
 581              	.L46:
 286:../system/src/umb_master/umb_master.c **** 
 582              		.loc 1 286 0
 583 0024 FFF7FEFF 		bl	umb_0x23_offline_data_callback
 584              	.LVL68:
 288:../system/src/umb_master/umb_master.c **** 				rte_wx_update_last_measuremenet_timers(ctx->current_channel);
 585              		.loc 1 288 0
 586 0028 0546     		mov	r5, r0
 587 002a 08B1     		cbz	r0, .L53
 588              		.loc 1 300 0
 589 002c 0025     		movs	r5, #0
 590 002e 06E0     		b	.L45
 591              	.L53:
 289:../system/src/umb_master/umb_master.c **** 			}
 592              		.loc 1 289 0
 593 0030 208D     		ldrh	r0, [r4, #40]
 594              	.LVL69:
 595 0032 FFF7FEFF 		bl	rte_wx_update_last_measuremenet_timers
 596              	.LVL70:
 597 0036 02E0     		b	.L45
 598              	.LVL71:
 599              	.L47:
 295:../system/src/umb_master/umb_master.c **** 			break;
 600              		.loc 1 295 0
 601 0038 FFF7FEFF 		bl	umb_0x26_status_callback
 602              	.LVL72:
 603              		.loc 1 300 0
 604 003c 0025     		movs	r5, #0
 605              	.LVL73:
 606              	.L45:
 301:../system/src/umb_master/umb_master.c **** }
 607              		.loc 1 301 0
 608 003e 2846     		mov	r0, r5
 609 0040 38BD     		pop	{r3, r4, r5, pc}
 610              		.cfi_endproc
 611              	.LFE398:
 613              		.section	.text.umb_pooling_handler,"ax",%progbits
 614              		.align	1
 615              		.global	umb_pooling_handler
 616              		.syntax unified
 617              		.thumb
 618              		.thumb_func
 619              		.fpu fpv4-sp-d16
 621              	umb_pooling_handler:
 622              	.LFB397:
 169:../system/src/umb_master/umb_master.c **** 
 623              		.loc 1 169 0
 624              		.cfi_startproc
 625              		@ args = 0, pretend = 0, frame = 8
 626              		@ frame_needed = 0, uses_anonymous_args = 0
 627              	.LVL74:
 628 0000 70B5     		push	{r4, r5, r6, lr}
 629              		.cfi_def_cfa_offset 16
 630              		.cfi_offset 4, -16
 631              		.cfi_offset 5, -12
 632              		.cfi_offset 6, -8
 633              		.cfi_offset 14, -4
 634 0002 86B0     		sub	sp, sp, #24
 635              		.cfi_def_cfa_offset 40
 636 0004 0446     		mov	r4, r0
 637 0006 1546     		mov	r5, r2
 171:../system/src/umb_master/umb_master.c **** 	umb_retval_t main_umb_retval = UMB_UNINITIALIZED;
 638              		.loc 1 171 0
 639 0008 0022     		movs	r2, #0
 640              	.LVL75:
 641 000a ADF81620 		strh	r2, [sp, #22]	@ movhi
 642              	.LVL76:
 174:../system/src/umb_master/umb_master.c **** 		case UMB_STATUS_IDLE:
 643              		.loc 1 174 0
 644 000e 027E     		ldrb	r2, [r0, #24]	@ zero_extendqisi2
 645 0010 013A     		subs	r2, r2, #1
 646 0012 052A     		cmp	r2, #5
 647 0014 5AD8     		bhi	.L55
 648 0016 DFE802F0 		tbb	[pc, r2]
 649              	.LVL77:
 650              	.L57:
 651 001a 03       		.byte	(.L56-.L57)/2
 652 001b 16       		.byte	(.L58-.L57)/2
 653 001c 30       		.byte	(.L59-.L57)/2
 654 001d 52       		.byte	(.L60-.L57)/2
 655 001e 5C       		.byte	(.L61-.L57)/2
 656 001f 57       		.byte	(.L62-.L57)/2
 657              		.p2align 1
 658              	.L56:
 179:../system/src/umb_master/umb_master.c **** 				// parsing UMB frame into serial buffer
 659              		.loc 1 179 0
 660 0020 0029     		cmp	r1, #0
 661 0022 53D1     		bne	.L55
 181:../system/src/umb_master/umb_master.c **** 
 662              		.loc 1 181 0
 663 0024 E26A     		ldr	r2, [r4, #44]
 664 0026 D18B     		ldrh	r1, [r2, #30]
 665              	.LVL78:
 666 0028 5069     		ldr	r0, [r2, #20]
 667 002a 0093     		str	r3, [sp]
 668 002c 0DF11603 		add	r3, sp, #22
 669              	.LVL79:
 670 0030 294A     		ldr	r2, .L67
 671 0032 FFF7FEFF 		bl	umb_parse_frame_to_serial_buffer
 672              	.LVL80:
 184:../system/src/umb_master/umb_master.c **** 
 673              		.loc 1 184 0
 674 0036 BDF91610 		ldrsh	r1, [sp, #22]
 675 003a E06A     		ldr	r0, [r4, #44]
 676 003c FFF7FEFF 		bl	srl_start_tx
 677              	.LVL81:
 187:../system/src/umb_master/umb_master.c **** 			}
 678              		.loc 1 187 0
 679 0040 0223     		movs	r3, #2
 680 0042 2376     		strb	r3, [r4, #24]
 681 0044 42E0     		b	.L55
 682              	.LVL82:
 683              	.L58:
 194:../system/src/umb_master/umb_master.c **** 				// transmission is done and now receive must be triggered
 684              		.loc 1 194 0
 685 0046 0029     		cmp	r1, #0
 686 0048 40D1     		bne	.L55
 196:../system/src/umb_master/umb_master.c **** 
 687              		.loc 1 196 0
 688 004a 0C23     		movs	r3, #12
 689              	.LVL83:
 690 004c 0293     		str	r3, [sp, #8]
 691 004e 0623     		movs	r3, #6
 692 0050 0193     		str	r3, [sp, #4]
 693 0052 0025     		movs	r5, #0
 694              	.LVL84:
 695 0054 0095     		str	r5, [sp]
 696 0056 2B46     		mov	r3, r5
 697 0058 0122     		movs	r2, #1
 698 005a 0821     		movs	r1, #8
 699              	.LVL85:
 700 005c E06A     		ldr	r0, [r4, #44]
 701 005e FFF7FEFF 		bl	srl_receive_data
 702              	.LVL86:
 199:../system/src/umb_master/umb_master.c **** 				srl_switch_timeout_for_waiting(ctx->serial_context, 1);
 703              		.loc 1 199 0
 704 0062 2A46     		mov	r2, r5
 705 0064 0121     		movs	r1, #1
 706 0066 E06A     		ldr	r0, [r4, #44]
 707 0068 FFF7FEFF 		bl	srl_switch_timeout
 708              	.LVL87:
 200:../system/src/umb_master/umb_master.c **** 
 709              		.loc 1 200 0
 710 006c 0121     		movs	r1, #1
 711 006e E06A     		ldr	r0, [r4, #44]
 712 0070 FFF7FEFF 		bl	srl_switch_timeout_for_waiting
 713              	.LVL88:
 202:../system/src/umb_master/umb_master.c **** 			}
 714              		.loc 1 202 0
 715 0074 0323     		movs	r3, #3
 716 0076 2376     		strb	r3, [r4, #24]
 717 0078 28E0     		b	.L55
 718              	.LVL89:
 719              	.L59:
 213:../system/src/umb_master/umb_master.c **** 
 720              		.loc 1 213 0
 721 007a 39B3     		cbz	r1, .L55
 216:../system/src/umb_master/umb_master.c **** 				// deprcode the UMB frame from a content of serial buffer
 722              		.loc 1 216 0
 723 007c 0129     		cmp	r1, #1
 724 007e 05D0     		beq	.L66
 239:../system/src/umb_master/umb_master.c **** 				ctx->state = UMB_STATUS_ERROR;
 725              		.loc 1 239 0
 726 0080 0229     		cmp	r1, #2
 727 0082 23D1     		bne	.L55
 240:../system/src/umb_master/umb_master.c **** 
 728              		.loc 1 240 0
 729 0084 0623     		movs	r3, #6
 730              	.LVL90:
 731 0086 2376     		strb	r3, [r4, #24]
 242:../system/src/umb_master/umb_master.c **** 
 732              		.loc 1 242 0
 733 0088 2561     		str	r5, [r4, #16]
 734 008a 1FE0     		b	.L55
 735              	.LVL91:
 736              	.L66:
 218:../system/src/umb_master/umb_master.c **** 																	srl_get_rx_buffer(ctx->serial_context),
 737              		.loc 1 218 0
 738 008c E06A     		ldr	r0, [r4, #44]
 739 008e FFF7FEFF 		bl	srl_get_rx_buffer
 740              	.LVL92:
 741 0092 0646     		mov	r6, r0
 742 0094 E06A     		ldr	r0, [r4, #44]
 743 0096 FFF7FEFF 		bl	srl_get_num_bytes_rxed
 744              	.LVL93:
 745 009a 0F4A     		ldr	r2, .L67
 746 009c 0146     		mov	r1, r0
 747 009e 3046     		mov	r0, r6
 748 00a0 FFF7FEFF 		bl	umb_parse_serial_buffer_to_frame
 749              	.LVL94:
 224:../system/src/umb_master/umb_master.c **** 					// call a master callback to look what was received
 750              		.loc 1 224 0
 751 00a4 90B9     		cbnz	r0, .L55
 226:../system/src/umb_master/umb_master.c **** 
 752              		.loc 1 226 0
 753 00a6 2146     		mov	r1, r4
 754 00a8 0B48     		ldr	r0, .L67
 755              	.LVL95:
 756 00aa FFF7FEFF 		bl	umb_master_callback
 757              	.LVL96:
 228:../system/src/umb_master/umb_master.c **** 						ctx->time_of_last_successful_comms = master_time;
 758              		.loc 1 228 0
 759 00ae 18B9     		cbnz	r0, .L64
 229:../system/src/umb_master/umb_master.c **** 
 760              		.loc 1 229 0
 761 00b0 6561     		str	r5, [r4, #20]
 231:../system/src/umb_master/umb_master.c **** 					}
 762              		.loc 1 231 0
 763 00b2 0423     		movs	r3, #4
 764 00b4 2376     		strb	r3, [r4, #24]
 765 00b6 09E0     		b	.L55
 766              	.L64:
 234:../system/src/umb_master/umb_master.c **** 				}
 767              		.loc 1 234 0
 768 00b8 0623     		movs	r3, #6
 769 00ba 2376     		strb	r3, [r4, #24]
 770 00bc 06E0     		b	.L55
 771              	.LVL97:
 772              	.L60:
 248:../system/src/umb_master/umb_master.c **** 				ctx->state = UMB_STATUS_IDLE;
 773              		.loc 1 248 0
 774 00be 0129     		cmp	r1, #1
 775 00c0 04D1     		bne	.L55
 249:../system/src/umb_master/umb_master.c **** 
 776              		.loc 1 249 0
 777 00c2 0023     		movs	r3, #0
 778              	.LVL98:
 779 00c4 2376     		strb	r3, [r4, #24]
 780 00c6 01E0     		b	.L55
 781              	.LVL99:
 782              	.L62:
 255:../system/src/umb_master/umb_master.c **** 
 783              		.loc 1 255 0
 784 00c8 0023     		movs	r3, #0
 785              	.LVL100:
 786 00ca 2376     		strb	r3, [r4, #24]
 787              	.LVL101:
 788              	.L55:
 267:../system/src/umb_master/umb_master.c **** 
 789              		.loc 1 267 0
 790 00cc 0020     		movs	r0, #0
 791 00ce 06B0     		add	sp, sp, #24
 792              		.cfi_remember_state
 793              		.cfi_def_cfa_offset 16
 794              		@ sp needed
 795 00d0 70BD     		pop	{r4, r5, r6, pc}
 796              	.LVL102:
 797              	.L61:
 798              		.cfi_restore_state
 260:../system/src/umb_master/umb_master.c **** 
 799              		.loc 1 260 0
 800 00d2 0023     		movs	r3, #0
 801              	.LVL103:
 802 00d4 2376     		strb	r3, [r4, #24]
 262:../system/src/umb_master/umb_master.c **** 		}
 803              		.loc 1 262 0
 804 00d6 F9E7     		b	.L55
 805              	.L68:
 806              		.align	2
 807              	.L67:
 808 00d8 00000000 		.word	rte_wx_umb
 809              		.cfi_endproc
 810              	.LFE397:
 812              		.section	.text.umb_get_current_qf,"ax",%progbits
 813              		.align	1
 814              		.global	umb_get_current_qf
 815              		.syntax unified
 816              		.thumb
 817              		.thumb_func
 818              		.fpu fpv4-sp-d16
 820              	umb_get_current_qf:
 821              	.LFB399:
 302:../system/src/umb_master/umb_master.c **** //	ctx->time_of_last_nok = 0xFFFFFFFFu;
 303:../system/src/umb_master/umb_master.c **** //ctx->time_of_last_comms_timeout = 0xFFFFFFFFu;
 304:../system/src/umb_master/umb_master.c **** //ctx->time_of_last_successful_comms = 0;
 305:../system/src/umb_master/umb_master.c **** umb_qf_t umb_get_current_qf(umb_context_t* ctx, uint32_t master_time) {
 822              		.loc 1 305 0
 823              		.cfi_startproc
 824              		@ args = 0, pretend = 0, frame = 0
 825              		@ frame_needed = 0, uses_anonymous_args = 0
 826              		@ link register save eliminated.
 827              	.LVL104:
 828 0000 0346     		mov	r3, r0
 829              	.LVL105:
 306:../system/src/umb_master/umb_master.c **** 
 307:../system/src/umb_master/umb_master.c **** 	umb_qf_t out = UMB_QF_UNKNOWN;
 308:../system/src/umb_master/umb_master.c **** 
 309:../system/src/umb_master/umb_master.c **** 	// initialization value - no error has been received from power up
 310:../system/src/umb_master/umb_master.c **** 	if (ctx->time_of_last_nok == 0xFFFFFFFFu) {
 830              		.loc 1 310 0
 831 0002 C268     		ldr	r2, [r0, #12]
 832 0004 B2F1FF3F 		cmp	r2, #-1
 833 0008 05D0     		beq	.L73
 311:../system/src/umb_master/umb_master.c **** 		out = UMB_QF_FULL;
 312:../system/src/umb_master/umb_master.c **** 	}
 313:../system/src/umb_master/umb_master.c **** 	// if the last error status was received more (sooner) than 10 minutes ago
 314:../system/src/umb_master/umb_master.c **** 	else if (master_time - ctx->time_of_last_nok >= TEN_MINUTES) {
 834              		.loc 1 314 0
 835 000a 8A1A     		subs	r2, r1, r2
 836 000c 1148     		ldr	r0, .L85
 837              	.LVL106:
 838 000e 8242     		cmp	r2, r0
 839 0010 14D9     		bls	.L74
 315:../system/src/umb_master/umb_master.c **** 		out = UMB_QF_FULL;
 840              		.loc 1 315 0
 841 0012 0020     		movs	r0, #0
 842 0014 00E0     		b	.L70
 843              	.LVL107:
 844              	.L73:
 311:../system/src/umb_master/umb_master.c **** 		out = UMB_QF_FULL;
 845              		.loc 1 311 0
 846 0016 0020     		movs	r0, #0
 847              	.LVL108:
 848              	.L70:
 316:../system/src/umb_master/umb_master.c **** 	}
 317:../system/src/umb_master/umb_master.c **** 	// if the last error has been received later than 10 minutes ago
 318:../system/src/umb_master/umb_master.c **** 	else {
 319:../system/src/umb_master/umb_master.c **** 		out =  UMB_QF_DEGRADED;
 320:../system/src/umb_master/umb_master.c **** 	}
 321:../system/src/umb_master/umb_master.c **** 
 322:../system/src/umb_master/umb_master.c **** 	// if there were no timeouts so far
 323:../system/src/umb_master/umb_master.c **** 	if (ctx->time_of_last_comms_timeout == 0xFFFFFFFFu) {
 849              		.loc 1 323 0
 850 0018 1A69     		ldr	r2, [r3, #16]
 851 001a B2F1FF3F 		cmp	r2, #-1
 852 001e 11D0     		beq	.L78
 305:../system/src/umb_master/umb_master.c **** 
 853              		.loc 1 305 0
 854 0020 10B4     		push	{r4}
 855              		.cfi_def_cfa_offset 4
 856              		.cfi_offset 4, -4
 324:../system/src/umb_master/umb_master.c **** 		;
 325:../system/src/umb_master/umb_master.c **** 	}
 326:../system/src/umb_master/umb_master.c **** 	// if the time of last timeout during communication was later than 10 minutes ago
 327:../system/src/umb_master/umb_master.c **** 	else if (master_time - ctx->time_of_last_comms_timeout < TEN_MINUTES) {
 857              		.loc 1 327 0
 858 0022 8A1A     		subs	r2, r1, r2
 859 0024 0B4C     		ldr	r4, .L85
 860 0026 A242     		cmp	r2, r4
 861 0028 00D8     		bhi	.L71
 328:../system/src/umb_master/umb_master.c **** //		if (ctx->time_of_last_successful_comms > ctx->time_of_last_comms_timeout) {
 329:../system/src/umb_master/umb_master.c **** //			;
 330:../system/src/umb_master/umb_master.c **** //		}
 331:../system/src/umb_master/umb_master.c **** //		else {
 332:../system/src/umb_master/umb_master.c **** 			out =  UMB_QF_DEGRADED;
 862              		.loc 1 332 0
 863 002a 0120     		movs	r0, #1
 864              	.LVL109:
 865              	.L71:
 333:../system/src/umb_master/umb_master.c **** //		}
 334:../system/src/umb_master/umb_master.c **** 	}
 335:../system/src/umb_master/umb_master.c **** 
 336:../system/src/umb_master/umb_master.c **** 	// if the last successfull communication with the sensor was 10 minutes ago or sooner
 337:../system/src/umb_master/umb_master.c **** 	if (master_time - ctx->time_of_last_successful_comms > TEN_MINUTES) {
 866              		.loc 1 337 0
 867 002c 5B69     		ldr	r3, [r3, #20]
 868              	.LVL110:
 869 002e C91A     		subs	r1, r1, r3
 870              	.LVL111:
 871 0030 094B     		ldr	r3, .L85+4
 872 0032 9942     		cmp	r1, r3
 873 0034 04D8     		bhi	.L83
 874              	.LVL112:
 875              	.L72:
 338:../system/src/umb_master/umb_master.c **** 		out = UMB_QF_NOT_AVALIABLE;
 339:../system/src/umb_master/umb_master.c **** 	}
 340:../system/src/umb_master/umb_master.c **** 
 341:../system/src/umb_master/umb_master.c **** 	return out;
 342:../system/src/umb_master/umb_master.c **** }
 876              		.loc 1 342 0
 877 0036 5DF8044B 		ldr	r4, [sp], #4
 878              		.cfi_restore 4
 879              		.cfi_def_cfa_offset 0
 880 003a 7047     		bx	lr
 881              	.LVL113:
 882              	.L74:
 319:../system/src/umb_master/umb_master.c **** 	}
 883              		.loc 1 319 0
 884 003c 0120     		movs	r0, #1
 885 003e EBE7     		b	.L70
 886              	.LVL114:
 887              	.L83:
 888              		.cfi_def_cfa_offset 4
 889              		.cfi_offset 4, -4
 338:../system/src/umb_master/umb_master.c **** 		out = UMB_QF_NOT_AVALIABLE;
 890              		.loc 1 338 0
 891 0040 0220     		movs	r0, #2
 892              	.LVL115:
 893 0042 F8E7     		b	.L72
 894              	.LVL116:
 895              	.L78:
 896              		.cfi_def_cfa_offset 0
 897              		.cfi_restore 4
 337:../system/src/umb_master/umb_master.c **** 		out = UMB_QF_NOT_AVALIABLE;
 898              		.loc 1 337 0
 899 0044 5B69     		ldr	r3, [r3, #20]
 900              	.LVL117:
 901 0046 C91A     		subs	r1, r1, r3
 902              	.LVL118:
 903 0048 034B     		ldr	r3, .L85+4
 904 004a 9942     		cmp	r1, r3
 905 004c 00D8     		bhi	.L84
 906              		.loc 1 342 0
 907 004e 7047     		bx	lr
 908              	.L84:
 338:../system/src/umb_master/umb_master.c **** 		out = UMB_QF_NOT_AVALIABLE;
 909              		.loc 1 338 0
 910 0050 0220     		movs	r0, #2
 911              	.LVL119:
 912 0052 7047     		bx	lr
 913              	.L86:
 914              		.align	2
 915              	.L85:
 916 0054 BF270900 		.word	599999
 917 0058 C0270900 		.word	600000
 918              		.cfi_endproc
 919              	.LFE399:
 921              		.section	.text.umb_construct_status_str,"ax",%progbits
 922              		.align	1
 923              		.global	umb_construct_status_str
 924              		.syntax unified
 925              		.thumb
 926              		.thumb_func
 927              		.fpu fpv4-sp-d16
 929              	umb_construct_status_str:
 930              	.LFB400:
 343:../system/src/umb_master/umb_master.c **** 
 344:../system/src/umb_master/umb_master.c **** void umb_construct_status_str(umb_context_t* ctx, char* out_buffer, uint16_t buffer_size, uint16_t*
 931              		.loc 1 344 0
 932              		.cfi_startproc
 933              		@ args = 4, pretend = 0, frame = 16
 934              		@ frame_needed = 0, uses_anonymous_args = 0
 935              	.LVL120:
 936 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 937              		.cfi_def_cfa_offset 36
 938              		.cfi_offset 4, -36
 939              		.cfi_offset 5, -32
 940              		.cfi_offset 6, -28
 941              		.cfi_offset 7, -24
 942              		.cfi_offset 8, -20
 943              		.cfi_offset 9, -16
 944              		.cfi_offset 10, -12
 945              		.cfi_offset 11, -8
 946              		.cfi_offset 14, -4
 947 0004 89B0     		sub	sp, sp, #36
 948              		.cfi_def_cfa_offset 72
 949              	.LVL121:
 345:../system/src/umb_master/umb_master.c **** 
 346:../system/src/umb_master/umb_master.c **** 	uint32_t string_ln;
 347:../system/src/umb_master/umb_master.c **** 	uint32_t sprintf_out = 0;
 348:../system/src/umb_master/umb_master.c **** 	char local[11];
 349:../system/src/umb_master/umb_master.c **** 
 350:../system/src/umb_master/umb_master.c **** 	// local copy of time_of_last_nok
 351:../system/src/umb_master/umb_master.c **** 	uint32_t local_tln = ctx->time_of_last_nok;
 950              		.loc 1 351 0
 951 0006 C768     		ldr	r7, [r0, #12]
 952              	.LVL122:
 352:../system/src/umb_master/umb_master.c **** 
 353:../system/src/umb_master/umb_master.c **** 	// local copy of time_of_last_comms_timeput
 354:../system/src/umb_master/umb_master.c **** 	uint32_t local_tlct = ctx->time_of_last_comms_timeout;
 953              		.loc 1 354 0
 954 0008 D0F81090 		ldr	r9, [r0, #16]
 955              	.LVL123:
 355:../system/src/umb_master/umb_master.c **** 
 356:../system/src/umb_master/umb_master.c **** 	// check if there is a reason to print the status
 357:../system/src/umb_master/umb_master.c **** 	if (ctx->trigger_status_msg == 0) {
 956              		.loc 1 357 0
 957 000c 90F82A40 		ldrb	r4, [r0, #42]	@ zero_extendqisi2
 958 0010 24B9     		cbnz	r4, .L88
 358:../system/src/umb_master/umb_master.c **** 		*status_string_ln = 0;
 959              		.loc 1 358 0
 960 0012 0022     		movs	r2, #0
 961              	.LVL124:
 962 0014 1A80     		strh	r2, [r3]	@ movhi
 963              	.LVL125:
 964              	.L87:
 359:../system/src/umb_master/umb_master.c **** 
 360:../system/src/umb_master/umb_master.c **** 		return;
 361:../system/src/umb_master/umb_master.c **** 	}
 362:../system/src/umb_master/umb_master.c **** 
 363:../system/src/umb_master/umb_master.c **** 	// clear the flag to omit looping
 364:../system/src/umb_master/umb_master.c **** 	ctx->trigger_status_msg = 0;
 365:../system/src/umb_master/umb_master.c **** 
 366:../system/src/umb_master/umb_master.c **** 	// check if there is enought size in buffer
 367:../system/src/umb_master/umb_master.c **** 	if (buffer_size < 64) {
 368:../system/src/umb_master/umb_master.c **** 		*status_string_ln = 0;
 369:../system/src/umb_master/umb_master.c **** 
 370:../system/src/umb_master/umb_master.c **** 		return;
 371:../system/src/umb_master/umb_master.c **** 	}
 372:../system/src/umb_master/umb_master.c **** 
 373:../system/src/umb_master/umb_master.c **** 	memset(local, 0x00, 11);
 374:../system/src/umb_master/umb_master.c **** 
 375:../system/src/umb_master/umb_master.c **** 	// swap initialization values to zero
 376:../system/src/umb_master/umb_master.c **** 	if (local_tln == 0xFFFFFFFFu)
 377:../system/src/umb_master/umb_master.c **** 		local_tln = 0;
 378:../system/src/umb_master/umb_master.c **** 
 379:../system/src/umb_master/umb_master.c **** 	if (local_tlct == 0xFFFFFFFFu)
 380:../system/src/umb_master/umb_master.c **** 		local_tlct = 0;
 381:../system/src/umb_master/umb_master.c **** 
 382:../system/src/umb_master/umb_master.c **** 	// clearing target buffer
 383:../system/src/umb_master/umb_master.c **** 	for (int i = 0; i < buffer_size; i++)
 384:../system/src/umb_master/umb_master.c **** 		out_buffer[i] = '\0';
 385:../system/src/umb_master/umb_master.c **** 
 386:../system/src/umb_master/umb_master.c **** 	string_ln = snprintf(out_buffer, buffer_size, ">UMB Status: [TIME= 0x%x, TLN= 0x%x, TLCT= 0x%x, LF
 387:../system/src/umb_master/umb_master.c **** 																			(int)master_time,
 388:../system/src/umb_master/umb_master.c **** 																			(int)local_tln,
 389:../system/src/umb_master/umb_master.c **** 																			(int)local_tlct,
 390:../system/src/umb_master/umb_master.c **** 																			(int)ctx->last_fault_channel);
 391:../system/src/umb_master/umb_master.c **** 	for (int i = 0; i < UMB_CONTEXT_ERR_HISTORY_LN; i++ ) {
 392:../system/src/umb_master/umb_master.c **** 		// print the string representation of the error code into the buffer
 393:../system/src/umb_master/umb_master.c **** 		sprintf_out = snprintf(local, 11, "0x%02x, ", ctx->nok_error_codes[i]);
 394:../system/src/umb_master/umb_master.c **** 
 395:../system/src/umb_master/umb_master.c **** 		if (sprintf_out + string_ln < buffer_size) {
 396:../system/src/umb_master/umb_master.c **** 			// rewrite the string value into the main output
 397:../system/src/umb_master/umb_master.c **** 			strcat(out_buffer, local);
 398:../system/src/umb_master/umb_master.c **** 
 399:../system/src/umb_master/umb_master.c **** 			string_ln += sprintf_out;
 400:../system/src/umb_master/umb_master.c **** 		}
 401:../system/src/umb_master/umb_master.c **** 	}
 402:../system/src/umb_master/umb_master.c **** 
 403:../system/src/umb_master/umb_master.c **** 	out_buffer[string_ln - 2] = ']';
 404:../system/src/umb_master/umb_master.c **** 	out_buffer[string_ln - 1] = ']';
 405:../system/src/umb_master/umb_master.c **** 
 406:../system/src/umb_master/umb_master.c **** 	// setting target string lenght
 407:../system/src/umb_master/umb_master.c **** 	*status_string_ln = string_ln;
 408:../system/src/umb_master/umb_master.c **** }
 965              		.loc 1 408 0
 966 0016 09B0     		add	sp, sp, #36
 967              		.cfi_remember_state
 968              		.cfi_def_cfa_offset 36
 969              		@ sp needed
 970 0018 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 971              	.LVL126:
 972              	.L88:
 973              		.cfi_restore_state
 364:../system/src/umb_master/umb_master.c **** 
 974              		.loc 1 364 0
 975 001c 0024     		movs	r4, #0
 976 001e 80F82A40 		strb	r4, [r0, #42]
 367:../system/src/umb_master/umb_master.c **** 		*status_string_ln = 0;
 977              		.loc 1 367 0
 978 0022 3F2A     		cmp	r2, #63
 979 0024 01D8     		bhi	.L90
 368:../system/src/umb_master/umb_master.c **** 
 980              		.loc 1 368 0
 981 0026 1C80     		strh	r4, [r3]	@ movhi
 370:../system/src/umb_master/umb_master.c **** 	}
 982              		.loc 1 370 0
 983 0028 F5E7     		b	.L87
 984              	.L90:
 985 002a 9B46     		mov	fp, r3
 986 002c 1546     		mov	r5, r2
 987 002e 0E46     		mov	r6, r1
 988 0030 0446     		mov	r4, r0
 373:../system/src/umb_master/umb_master.c **** 
 989              		.loc 1 373 0
 990 0032 0B22     		movs	r2, #11
 991              	.LVL127:
 992 0034 0021     		movs	r1, #0
 993              	.LVL128:
 994 0036 05A8     		add	r0, sp, #20
 995              	.LVL129:
 996 0038 FFF7FEFF 		bl	memset
 997              	.LVL130:
 376:../system/src/umb_master/umb_master.c **** 		local_tln = 0;
 998              		.loc 1 376 0
 999 003c B7F1FF3F 		cmp	r7, #-1
 1000 0040 04D0     		beq	.L102
 1001              	.LVL131:
 1002              	.L91:
 379:../system/src/umb_master/umb_master.c **** 		local_tlct = 0;
 1003              		.loc 1 379 0
 1004 0042 B9F1FF3F 		cmp	r9, #-1
 1005 0046 03D0     		beq	.L103
 1006              	.LVL132:
 1007              	.L92:
 1008              	.LBB11:
 383:../system/src/umb_master/umb_master.c **** 		out_buffer[i] = '\0';
 1009              		.loc 1 383 0
 1010 0048 0020     		movs	r0, #0
 1011 004a 07E0     		b	.L93
 1012              	.LVL133:
 1013              	.L102:
 1014              	.LBE11:
 377:../system/src/umb_master/umb_master.c **** 
 1015              		.loc 1 377 0
 1016 004c 0027     		movs	r7, #0
 1017              	.LVL134:
 1018 004e F8E7     		b	.L91
 1019              	.LVL135:
 1020              	.L103:
 380:../system/src/umb_master/umb_master.c **** 
 1021              		.loc 1 380 0
 1022 0050 4FF00009 		mov	r9, #0
 1023              	.LVL136:
 1024 0054 F8E7     		b	.L92
 1025              	.LVL137:
 1026              	.L94:
 1027              	.LBB12:
 384:../system/src/umb_master/umb_master.c **** 
 1028              		.loc 1 384 0 discriminator 3
 1029 0056 0023     		movs	r3, #0
 1030 0058 3354     		strb	r3, [r6, r0]
 383:../system/src/umb_master/umb_master.c **** 		out_buffer[i] = '\0';
 1031              		.loc 1 383 0 discriminator 3
 1032 005a 0130     		adds	r0, r0, #1
 1033              	.LVL138:
 1034              	.L93:
 383:../system/src/umb_master/umb_master.c **** 		out_buffer[i] = '\0';
 1035              		.loc 1 383 0 is_stmt 0 discriminator 1
 1036 005c 8542     		cmp	r5, r0
 1037 005e FADC     		bgt	.L94
 1038              	.LBE12:
 386:../system/src/umb_master/umb_master.c **** 																			(int)master_time,
 1039              		.loc 1 386 0 is_stmt 1
 1040 0060 AA46     		mov	r10, r5
 390:../system/src/umb_master/umb_master.c **** 	for (int i = 0; i < UMB_CONTEXT_ERR_HISTORY_LN; i++ ) {
 1041              		.loc 1 390 0
 1042 0062 2389     		ldrh	r3, [r4, #8]
 386:../system/src/umb_master/umb_master.c **** 																			(int)master_time,
 1043              		.loc 1 386 0
 1044 0064 0293     		str	r3, [sp, #8]
 1045 0066 CDF80490 		str	r9, [sp, #4]
 1046 006a 0097     		str	r7, [sp]
 1047 006c 129B     		ldr	r3, [sp, #72]
 1048 006e 134A     		ldr	r2, .L105
 1049 0070 2946     		mov	r1, r5
 1050 0072 3046     		mov	r0, r6
 1051              	.LVL139:
 1052 0074 FFF7FEFF 		bl	snprintf
 1053              	.LVL140:
 1054 0078 8046     		mov	r8, r0
 1055              	.LVL141:
 1056              	.LBB13:
 391:../system/src/umb_master/umb_master.c **** 		// print the string representation of the error code into the buffer
 1057              		.loc 1 391 0
 1058 007a 0025     		movs	r5, #0
 1059 007c 00E0     		b	.L95
 1060              	.LVL142:
 1061              	.L96:
 391:../system/src/umb_master/umb_master.c **** 		// print the string representation of the error code into the buffer
 1062              		.loc 1 391 0 is_stmt 0 discriminator 2
 1063 007e 0135     		adds	r5, r5, #1
 1064              	.LVL143:
 1065              	.L95:
 391:../system/src/umb_master/umb_master.c **** 		// print the string representation of the error code into the buffer
 1066              		.loc 1 391 0 discriminator 1
 1067 0080 032D     		cmp	r5, #3
 1068 0082 10DC     		bgt	.L104
 393:../system/src/umb_master/umb_master.c **** 
 1069              		.loc 1 393 0 is_stmt 1
 1070 0084 6319     		adds	r3, r4, r5
 1071 0086 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 1072 0088 0D4A     		ldr	r2, .L105+4
 1073 008a 0B21     		movs	r1, #11
 1074 008c 05A8     		add	r0, sp, #20
 1075 008e FFF7FEFF 		bl	snprintf
 1076              	.LVL144:
 395:../system/src/umb_master/umb_master.c **** 			// rewrite the string value into the main output
 1077              		.loc 1 395 0
 1078 0092 08EB0009 		add	r9, r8, r0
 1079 0096 CA45     		cmp	r10, r9
 1080 0098 F1D9     		bls	.L96
 397:../system/src/umb_master/umb_master.c **** 
 1081              		.loc 1 397 0
 1082 009a 05A9     		add	r1, sp, #20
 1083 009c 3046     		mov	r0, r6
 1084              	.LVL145:
 1085 009e FFF7FEFF 		bl	strcat
 1086              	.LVL146:
 399:../system/src/umb_master/umb_master.c **** 		}
 1087              		.loc 1 399 0
 1088 00a2 C846     		mov	r8, r9
 1089 00a4 EBE7     		b	.L96
 1090              	.LVL147:
 1091              	.L104:
 1092              	.LBE13:
 403:../system/src/umb_master/umb_master.c **** 	out_buffer[string_ln - 1] = ']';
 1093              		.loc 1 403 0
 1094 00a6 A8F10202 		sub	r2, r8, #2
 1095 00aa 5D23     		movs	r3, #93
 1096 00ac B354     		strb	r3, [r6, r2]
 404:../system/src/umb_master/umb_master.c **** 
 1097              		.loc 1 404 0
 1098 00ae 08F1FF32 		add	r2, r8, #-1
 1099 00b2 B354     		strb	r3, [r6, r2]
 407:../system/src/umb_master/umb_master.c **** }
 1100              		.loc 1 407 0
 1101 00b4 ABF80080 		strh	r8, [fp]	@ movhi
 1102 00b8 ADE7     		b	.L87
 1103              	.L106:
 1104 00ba 00BF     		.align	2
 1105              	.L105:
 1106 00bc 00000000 		.word	.LC0
 1107 00c0 44000000 		.word	.LC1
 1108              		.cfi_endproc
 1109              	.LFE400:
 1111              		.section	.text.umb_clear_error_history,"ax",%progbits
 1112              		.align	1
 1113              		.global	umb_clear_error_history
 1114              		.syntax unified
 1115              		.thumb
 1116              		.thumb_func
 1117              		.fpu fpv4-sp-d16
 1119              	umb_clear_error_history:
 1120              	.LFB401:
 409:../system/src/umb_master/umb_master.c **** 
 410:../system/src/umb_master/umb_master.c **** void umb_clear_error_history(umb_context_t* ctx) {
 1121              		.loc 1 410 0
 1122              		.cfi_startproc
 1123              		@ args = 0, pretend = 0, frame = 0
 1124              		@ frame_needed = 0, uses_anonymous_args = 0
 1125              		@ link register save eliminated.
 1126              	.LVL148:
 411:../system/src/umb_master/umb_master.c **** 	ctx->last_fault_channel = 0;
 1127              		.loc 1 411 0
 1128 0000 0023     		movs	r3, #0
 1129 0002 0381     		strh	r3, [r0, #8]	@ movhi
 1130              	.LVL149:
 1131              	.LBB14:
 412:../system/src/umb_master/umb_master.c **** 
 413:../system/src/umb_master/umb_master.c **** 	for (int i = 0; i < UMB_CONTEXT_ERR_HISTORY_LN; i++) {
 1132              		.loc 1 413 0
 1133 0004 03E0     		b	.L108
 1134              	.LVL150:
 1135              	.L109:
 414:../system/src/umb_master/umb_master.c **** 		ctx->nok_error_codes[i] = 0;
 1136              		.loc 1 414 0 discriminator 3
 1137 0006 C218     		adds	r2, r0, r3
 1138 0008 0021     		movs	r1, #0
 1139 000a 9170     		strb	r1, [r2, #2]
 413:../system/src/umb_master/umb_master.c **** 		ctx->nok_error_codes[i] = 0;
 1140              		.loc 1 413 0 discriminator 3
 1141 000c 0133     		adds	r3, r3, #1
 1142              	.LVL151:
 1143              	.L108:
 413:../system/src/umb_master/umb_master.c **** 		ctx->nok_error_codes[i] = 0;
 1144              		.loc 1 413 0 is_stmt 0 discriminator 1
 1145 000e 032B     		cmp	r3, #3
 1146 0010 F9DD     		ble	.L109
 1147              	.LBE14:
 415:../system/src/umb_master/umb_master.c **** 	}
 416:../system/src/umb_master/umb_master.c **** 
 417:../system/src/umb_master/umb_master.c **** 	ctx->trigger_status_msg = 0;
 1148              		.loc 1 417 0 is_stmt 1
 1149 0012 0023     		movs	r3, #0
 1150              	.LVL152:
 1151 0014 80F82A30 		strb	r3, [r0, #42]
 418:../system/src/umb_master/umb_master.c **** }
 1152              		.loc 1 418 0
 1153 0018 7047     		bx	lr
 1154              		.cfi_endproc
 1155              	.LFE401:
 1157              		.section	.text.umb_get_windspeed,"ax",%progbits
 1158              		.align	1
 1159              		.global	umb_get_windspeed
 1160              		.syntax unified
 1161              		.thumb
 1162              		.thumb_func
 1163              		.fpu fpv4-sp-d16
 1165              	umb_get_windspeed:
 1166              	.LFB402:
 419:../system/src/umb_master/umb_master.c **** 
 420:../system/src/umb_master/umb_master.c **** 
 421:../system/src/umb_master/umb_master.c **** uint16_t umb_get_windspeed(const config_data_umb_t * const config_umb) {
 1167              		.loc 1 421 0
 1168              		.cfi_startproc
 1169              		@ args = 0, pretend = 0, frame = 0
 1170              		@ frame_needed = 0, uses_anonymous_args = 0
 1171              		@ link register save eliminated.
 1172              	.LVL153:
 1173              	.LBB15:
 422:../system/src/umb_master/umb_master.c **** 
 423:../system/src/umb_master/umb_master.c **** 	uint16_t out = 0;
 424:../system/src/umb_master/umb_master.c **** 
 425:../system/src/umb_master/umb_master.c **** 	for (int i = 0; i < UMB_CHANNELS_STORAGE_CAPAC; i++) {
 1174              		.loc 1 425 0
 1175 0000 0023     		movs	r3, #0
 1176              	.LVL154:
 1177              	.L111:
 1178              		.loc 1 425 0 is_stmt 0 discriminator 1
 1179 0002 052B     		cmp	r3, #5
 1180 0004 0FDC     		bgt	.L115
 426:../system/src/umb_master/umb_master.c **** 		if (rte_wx_umb_channel_values[i][0] == (int16_t)config_umb->channel_windspeed) {
 1181              		.loc 1 426 0 is_stmt 1
 1182 0006 094A     		ldr	r2, .L117
 1183 0008 32F92310 		ldrsh	r1, [r2, r3, lsl #2]
 1184 000c B0F90420 		ldrsh	r2, [r0, #4]
 1185 0010 9142     		cmp	r1, r2
 1186 0012 01D0     		beq	.L116
 425:../system/src/umb_master/umb_master.c **** 		if (rte_wx_umb_channel_values[i][0] == (int16_t)config_umb->channel_windspeed) {
 1187              		.loc 1 425 0 discriminator 2
 1188 0014 0133     		adds	r3, r3, #1
 1189              	.LVL155:
 1190 0016 F4E7     		b	.L111
 1191              	.L116:
 427:../system/src/umb_master/umb_master.c **** 			out = (uint16_t)rte_wx_umb_channel_values[i][1];
 1192              		.loc 1 427 0
 1193 0018 044A     		ldr	r2, .L117
 1194 001a 02EB8303 		add	r3, r2, r3, lsl #2
 1195              	.LVL156:
 1196 001e B3F90200 		ldrsh	r0, [r3, #2]
 1197              	.LVL157:
 1198 0022 80B2     		uxth	r0, r0
 1199              	.LVL158:
 428:../system/src/umb_master/umb_master.c **** 			break;
 1200              		.loc 1 428 0
 1201 0024 7047     		bx	lr
 1202              	.LVL159:
 1203              	.L115:
 1204              	.LBE15:
 423:../system/src/umb_master/umb_master.c **** 
 1205              		.loc 1 423 0
 1206 0026 0020     		movs	r0, #0
 1207              	.LVL160:
 429:../system/src/umb_master/umb_master.c **** 		}
 430:../system/src/umb_master/umb_master.c **** 	}
 431:../system/src/umb_master/umb_master.c **** 
 432:../system/src/umb_master/umb_master.c **** 	return out;
 433:../system/src/umb_master/umb_master.c **** }
 1208              		.loc 1 433 0
 1209 0028 7047     		bx	lr
 1210              	.L118:
 1211 002a 00BF     		.align	2
 1212              	.L117:
 1213 002c 00000000 		.word	rte_wx_umb_channel_values
 1214              		.cfi_endproc
 1215              	.LFE402:
 1217              		.section	.text.umb_get_windgusts,"ax",%progbits
 1218              		.align	1
 1219              		.global	umb_get_windgusts
 1220              		.syntax unified
 1221              		.thumb
 1222              		.thumb_func
 1223              		.fpu fpv4-sp-d16
 1225              	umb_get_windgusts:
 1226              	.LFB403:
 434:../system/src/umb_master/umb_master.c **** 
 435:../system/src/umb_master/umb_master.c **** uint16_t umb_get_windgusts(const config_data_umb_t * const config_umb) {
 1227              		.loc 1 435 0
 1228              		.cfi_startproc
 1229              		@ args = 0, pretend = 0, frame = 0
 1230              		@ frame_needed = 0, uses_anonymous_args = 0
 1231              		@ link register save eliminated.
 1232              	.LVL161:
 1233              	.LBB16:
 436:../system/src/umb_master/umb_master.c **** 	uint16_t out = 0;
 437:../system/src/umb_master/umb_master.c **** 
 438:../system/src/umb_master/umb_master.c **** 	for (int i = 0; i < UMB_CHANNELS_STORAGE_CAPAC; i++) {
 1234              		.loc 1 438 0
 1235 0000 0023     		movs	r3, #0
 1236              	.LVL162:
 1237              	.L120:
 1238              		.loc 1 438 0 is_stmt 0 discriminator 1
 1239 0002 052B     		cmp	r3, #5
 1240 0004 0FDC     		bgt	.L124
 439:../system/src/umb_master/umb_master.c **** 		if (rte_wx_umb_channel_values[i][0] == (int16_t)config_umb->channel_wingsusts) {
 1241              		.loc 1 439 0 is_stmt 1
 1242 0006 094A     		ldr	r2, .L126
 1243 0008 32F92310 		ldrsh	r1, [r2, r3, lsl #2]
 1244 000c B0F90620 		ldrsh	r2, [r0, #6]
 1245 0010 9142     		cmp	r1, r2
 1246 0012 01D0     		beq	.L125
 438:../system/src/umb_master/umb_master.c **** 		if (rte_wx_umb_channel_values[i][0] == (int16_t)config_umb->channel_wingsusts) {
 1247              		.loc 1 438 0 discriminator 2
 1248 0014 0133     		adds	r3, r3, #1
 1249              	.LVL163:
 1250 0016 F4E7     		b	.L120
 1251              	.L125:
 440:../system/src/umb_master/umb_master.c **** 			out = (uint16_t)rte_wx_umb_channel_values[i][1];
 1252              		.loc 1 440 0
 1253 0018 044A     		ldr	r2, .L126
 1254 001a 02EB8303 		add	r3, r2, r3, lsl #2
 1255              	.LVL164:
 1256 001e B3F90200 		ldrsh	r0, [r3, #2]
 1257              	.LVL165:
 1258 0022 80B2     		uxth	r0, r0
 1259              	.LVL166:
 441:../system/src/umb_master/umb_master.c **** 			break;
 1260              		.loc 1 441 0
 1261 0024 7047     		bx	lr
 1262              	.LVL167:
 1263              	.L124:
 1264              	.LBE16:
 436:../system/src/umb_master/umb_master.c **** 
 1265              		.loc 1 436 0
 1266 0026 0020     		movs	r0, #0
 1267              	.LVL168:
 442:../system/src/umb_master/umb_master.c **** 		}
 443:../system/src/umb_master/umb_master.c **** 	}
 444:../system/src/umb_master/umb_master.c **** 
 445:../system/src/umb_master/umb_master.c **** 	return out;
 446:../system/src/umb_master/umb_master.c **** }
 1268              		.loc 1 446 0
 1269 0028 7047     		bx	lr
 1270              	.L127:
 1271 002a 00BF     		.align	2
 1272              	.L126:
 1273 002c 00000000 		.word	rte_wx_umb_channel_values
 1274              		.cfi_endproc
 1275              	.LFE403:
 1277              		.section	.text.umb_get_winddirection,"ax",%progbits
 1278              		.align	1
 1279              		.global	umb_get_winddirection
 1280              		.syntax unified
 1281              		.thumb
 1282              		.thumb_func
 1283              		.fpu fpv4-sp-d16
 1285              	umb_get_winddirection:
 1286              	.LFB404:
 447:../system/src/umb_master/umb_master.c **** 
 448:../system/src/umb_master/umb_master.c **** int16_t umb_get_winddirection(const config_data_umb_t * const config_umb) {
 1287              		.loc 1 448 0
 1288              		.cfi_startproc
 1289              		@ args = 0, pretend = 0, frame = 0
 1290              		@ frame_needed = 0, uses_anonymous_args = 0
 1291              		@ link register save eliminated.
 1292              	.LVL169:
 1293              	.LBB17:
 449:../system/src/umb_master/umb_master.c **** 	int16_t out = 0;
 450:../system/src/umb_master/umb_master.c **** 
 451:../system/src/umb_master/umb_master.c **** 	for (int i = 0; i < UMB_CHANNELS_STORAGE_CAPAC; i++) {
 1294              		.loc 1 451 0
 1295 0000 0023     		movs	r3, #0
 1296              	.LVL170:
 1297              	.L129:
 1298              		.loc 1 451 0 is_stmt 0 discriminator 1
 1299 0002 052B     		cmp	r3, #5
 1300 0004 0EDC     		bgt	.L133
 452:../system/src/umb_master/umb_master.c **** 		if (rte_wx_umb_channel_values[i][0] == (int16_t)config_umb->channel_winddirection) {
 1301              		.loc 1 452 0 is_stmt 1
 1302 0006 0C4A     		ldr	r2, .L135
 1303 0008 32F92310 		ldrsh	r1, [r2, r3, lsl #2]
 1304 000c B0F90820 		ldrsh	r2, [r0, #8]
 1305 0010 9142     		cmp	r1, r2
 1306 0012 01D0     		beq	.L134
 451:../system/src/umb_master/umb_master.c **** 		if (rte_wx_umb_channel_values[i][0] == (int16_t)config_umb->channel_winddirection) {
 1307              		.loc 1 451 0 discriminator 2
 1308 0014 0133     		adds	r3, r3, #1
 1309              	.LVL171:
 1310 0016 F4E7     		b	.L129
 1311              	.L134:
 453:../system/src/umb_master/umb_master.c **** 			out = (int16_t)rte_wx_umb_channel_values[i][1];
 1312              		.loc 1 453 0
 1313 0018 074A     		ldr	r2, .L135
 1314 001a 02EB8303 		add	r3, r2, r3, lsl #2
 1315              	.LVL172:
 1316 001e B3F90230 		ldrsh	r3, [r3, #2]
 1317              	.LVL173:
 454:../system/src/umb_master/umb_master.c **** 			break;
 1318              		.loc 1 454 0
 1319 0022 00E0     		b	.L131
 1320              	.LVL174:
 1321              	.L133:
 1322              	.LBE17:
 449:../system/src/umb_master/umb_master.c **** 
 1323              		.loc 1 449 0
 1324 0024 0023     		movs	r3, #0
 1325              	.LVL175:
 1326              	.L131:
 455:../system/src/umb_master/umb_master.c **** 		}
 456:../system/src/umb_master/umb_master.c **** 	}
 457:../system/src/umb_master/umb_master.c **** 	out /= 10;
 1327              		.loc 1 457 0
 1328 0026 0548     		ldr	r0, .L135+4
 1329              	.LVL176:
 1330 0028 80FB0320 		smull	r2, r0, r0, r3
 1331 002c DB17     		asrs	r3, r3, #31
 1332              	.LVL177:
 1333 002e C3EBA000 		rsb	r0, r3, r0, asr #2
 1334              	.LVL178:
 458:../system/src/umb_master/umb_master.c **** 	return out;
 459:../system/src/umb_master/umb_master.c **** }
 1335              		.loc 1 459 0
 1336 0032 00B2     		sxth	r0, r0
 1337 0034 7047     		bx	lr
 1338              	.L136:
 1339 0036 00BF     		.align	2
 1340              	.L135:
 1341 0038 00000000 		.word	rte_wx_umb_channel_values
 1342 003c 67666666 		.word	1717986919
 1343              		.cfi_endproc
 1344              	.LFE404:
 1346              		.section	.text.umb_get_temperature,"ax",%progbits
 1347              		.align	1
 1348              		.global	umb_get_temperature
 1349              		.syntax unified
 1350              		.thumb
 1351              		.thumb_func
 1352              		.fpu fpv4-sp-d16
 1354              	umb_get_temperature:
 1355              	.LFB405:
 460:../system/src/umb_master/umb_master.c **** 
 461:../system/src/umb_master/umb_master.c **** float umb_get_temperature(const config_data_umb_t * const config_umb) {
 1356              		.loc 1 461 0
 1357              		.cfi_startproc
 1358              		@ args = 0, pretend = 0, frame = 0
 1359              		@ frame_needed = 0, uses_anonymous_args = 0
 1360              		@ link register save eliminated.
 1361              	.LVL179:
 1362              	.LBB18:
 462:../system/src/umb_master/umb_master.c **** 	float out = 0.0f;
 463:../system/src/umb_master/umb_master.c **** 
 464:../system/src/umb_master/umb_master.c **** 	for (int i = 0; i < UMB_CHANNELS_STORAGE_CAPAC; i++) {
 1363              		.loc 1 464 0
 1364 0000 0023     		movs	r3, #0
 1365              	.LVL180:
 1366              	.L138:
 1367              		.loc 1 464 0 is_stmt 0 discriminator 1
 1368 0002 052B     		cmp	r3, #5
 1369 0004 16DC     		bgt	.L142
 465:../system/src/umb_master/umb_master.c **** 		if (rte_wx_umb_channel_values[i][0] == (int16_t)config_umb->channel_temperature) {
 1370              		.loc 1 465 0 is_stmt 1
 1371 0006 0D4A     		ldr	r2, .L144
 1372 0008 32F92310 		ldrsh	r1, [r2, r3, lsl #2]
 1373 000c B0F90A20 		ldrsh	r2, [r0, #10]
 1374 0010 9142     		cmp	r1, r2
 1375 0012 01D0     		beq	.L143
 464:../system/src/umb_master/umb_master.c **** 		if (rte_wx_umb_channel_values[i][0] == (int16_t)config_umb->channel_temperature) {
 1376              		.loc 1 464 0 discriminator 2
 1377 0014 0133     		adds	r3, r3, #1
 1378              	.LVL181:
 1379 0016 F4E7     		b	.L138
 1380              	.L143:
 466:../system/src/umb_master/umb_master.c **** 			out = (float)rte_wx_umb_channel_values[i][1] * 0.1f;
 1381              		.loc 1 466 0
 1382 0018 084A     		ldr	r2, .L144
 1383 001a 02EB8303 		add	r3, r2, r3, lsl #2
 1384              	.LVL182:
 1385 001e B3F90230 		ldrsh	r3, [r3, #2]
 1386 0022 00EE103A 		vmov	s0, r3	@ int
 1387 0026 B8EEC00A 		vcvt.f32.s32	s0, s0
 1388 002a DFED057A 		vldr.32	s15, .L144+4
 1389 002e 20EE270A 		vmul.f32	s0, s0, s15
 1390              	.LVL183:
 467:../system/src/umb_master/umb_master.c **** 			break;
 1391              		.loc 1 467 0
 1392 0032 7047     		bx	lr
 1393              	.LVL184:
 1394              	.L142:
 1395              	.LBE18:
 462:../system/src/umb_master/umb_master.c **** 
 1396              		.loc 1 462 0
 1397 0034 9FED030A 		vldr.32	s0, .L144+8
 468:../system/src/umb_master/umb_master.c **** 		}
 469:../system/src/umb_master/umb_master.c **** 	}
 470:../system/src/umb_master/umb_master.c **** 
 471:../system/src/umb_master/umb_master.c **** 	return out;
 472:../system/src/umb_master/umb_master.c **** }
 1398              		.loc 1 472 0
 1399 0038 7047     		bx	lr
 1400              	.L145:
 1401 003a 00BF     		.align	2
 1402              	.L144:
 1403 003c 00000000 		.word	rte_wx_umb_channel_values
 1404 0040 CDCCCC3D 		.word	1036831949
 1405 0044 00000000 		.word	0
 1406              		.cfi_endproc
 1407              	.LFE405:
 1409              		.section	.text.umb_get_qnh,"ax",%progbits
 1410              		.align	1
 1411              		.global	umb_get_qnh
 1412              		.syntax unified
 1413              		.thumb
 1414              		.thumb_func
 1415              		.fpu fpv4-sp-d16
 1417              	umb_get_qnh:
 1418              	.LFB406:
 473:../system/src/umb_master/umb_master.c **** 
 474:../system/src/umb_master/umb_master.c **** float umb_get_qnh(const config_data_umb_t * const config_umb) {
 1419              		.loc 1 474 0
 1420              		.cfi_startproc
 1421              		@ args = 0, pretend = 0, frame = 0
 1422              		@ frame_needed = 0, uses_anonymous_args = 0
 1423              		@ link register save eliminated.
 1424              	.LVL185:
 1425              	.LBB19:
 475:../system/src/umb_master/umb_master.c **** 	float out = 0;
 476:../system/src/umb_master/umb_master.c **** 
 477:../system/src/umb_master/umb_master.c **** 	for (int i = 0; i < UMB_CHANNELS_STORAGE_CAPAC; i++) {
 1426              		.loc 1 477 0
 1427 0000 0023     		movs	r3, #0
 1428              	.LVL186:
 1429              	.L147:
 1430              		.loc 1 477 0 is_stmt 0 discriminator 1
 1431 0002 052B     		cmp	r3, #5
 1432 0004 16DC     		bgt	.L151
 478:../system/src/umb_master/umb_master.c **** 		if (rte_wx_umb_channel_values[i][0] == (int16_t)config_umb->channel_qnh) {
 1433              		.loc 1 478 0 is_stmt 1
 1434 0006 0D4A     		ldr	r2, .L153
 1435 0008 32F92310 		ldrsh	r1, [r2, r3, lsl #2]
 1436 000c B0F90C20 		ldrsh	r2, [r0, #12]
 1437 0010 9142     		cmp	r1, r2
 1438 0012 01D0     		beq	.L152
 477:../system/src/umb_master/umb_master.c **** 		if (rte_wx_umb_channel_values[i][0] == (int16_t)config_umb->channel_qnh) {
 1439              		.loc 1 477 0 discriminator 2
 1440 0014 0133     		adds	r3, r3, #1
 1441              	.LVL187:
 1442 0016 F4E7     		b	.L147
 1443              	.L152:
 479:../system/src/umb_master/umb_master.c **** 			out = (float)rte_wx_umb_channel_values[i][1] * 0.1f;
 1444              		.loc 1 479 0
 1445 0018 084A     		ldr	r2, .L153
 1446 001a 02EB8303 		add	r3, r2, r3, lsl #2
 1447              	.LVL188:
 1448 001e B3F90230 		ldrsh	r3, [r3, #2]
 1449 0022 00EE103A 		vmov	s0, r3	@ int
 1450 0026 B8EEC00A 		vcvt.f32.s32	s0, s0
 1451 002a DFED057A 		vldr.32	s15, .L153+4
 1452 002e 20EE270A 		vmul.f32	s0, s0, s15
 1453              	.LVL189:
 480:../system/src/umb_master/umb_master.c **** 			break;
 1454              		.loc 1 480 0
 1455 0032 7047     		bx	lr
 1456              	.LVL190:
 1457              	.L151:
 1458              	.LBE19:
 475:../system/src/umb_master/umb_master.c **** 
 1459              		.loc 1 475 0
 1460 0034 9FED030A 		vldr.32	s0, .L153+8
 481:../system/src/umb_master/umb_master.c **** 		}
 482:../system/src/umb_master/umb_master.c **** 	}
 483:../system/src/umb_master/umb_master.c **** 
 484:../system/src/umb_master/umb_master.c **** 	return out;
 485:../system/src/umb_master/umb_master.c **** }
 1461              		.loc 1 485 0
 1462 0038 7047     		bx	lr
 1463              	.L154:
 1464 003a 00BF     		.align	2
 1465              	.L153:
 1466 003c 00000000 		.word	rte_wx_umb_channel_values
 1467 0040 CDCCCC3D 		.word	1036831949
 1468 0044 00000000 		.word	0
 1469              		.cfi_endproc
 1470              	.LFE406:
 1472              		.section	.rodata.umb_construct_status_str.str1.4,"aMS",%progbits,1
 1473              		.align	2
 1474              	.LC0:
 1475 0000 3E554D42 		.ascii	">UMB Status: [TIME= 0x%x, TLN= 0x%x, TLCT= 0x%x, LF"
 1475      20537461 
 1475      7475733A 
 1475      205B5449 
 1475      4D453D20 
 1476 0033 433D2025 		.ascii	"C= %d ERRS= [\000"
 1476      64204552 
 1476      52533D20 
 1476      5B00
 1477 0041 000000   		.space	3
 1478              	.LC1:
 1479 0044 30782530 		.ascii	"0x%02x, \000"
 1479      32782C20 
 1479      00
 1480              		.text
 1481              	.Letext0:
 1482              		.file 2 "/usr/local/bin/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/machine/_default_
 1483              		.file 3 "/usr/local/bin/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/lock.h"
 1484              		.file 4 "/usr/local/bin/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/_types.h"
 1485              		.file 5 "/usr/local/bin/gcc-arm-none-eabi-7-2018-q2-update/lib/gcc/arm-none-eabi/7.3.1/include/std
 1486              		.file 6 "/usr/local/bin/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/reent.h"
 1487              		.file 7 "/usr/local/bin/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/_stdint.h"
 1488              		.file 8 "../system/include/umb_master/../umb_master/umb_retval_t.h"
 1489              		.file 9 "../system/include/umb_master/../umb_master/umb_state_t.h"
 1490              		.file 10 "../system/include/cmsis/stm32l4xx/core_cm4.h"
 1491              		.file 11 "../system/include/cmsis/stm32l4xx/device/system_stm32l4xx.h"
 1492              		.file 12 "../system/include/cmsis/stm32l4xx/device/stm32l471xx.h"
 1493              		.file 13 "../system/include/drivers/serial.h"
 1494              		.file 14 "../system/include/umb_master/../umb_master/umb_context_t.h"
 1495              		.file 15 "../system/include/umb_master/../umb_master/umb_frame_t.h"
 1496              		.file 16 "../include/config_data.h"
 1497              		.file 17 "../system/include/umb_master/umb_call_reason.h"
 1498              		.file 18 "../system/include/umb_master/umb_qf_t.h"
 1499              		.file 19 "../system/include/drivers/dallas.h"
 1500              		.file 20 "../system/include/drivers/analog_anemometer.h"
 1501              		.file 21 "../system/include/davis_vantage/davis_loop_t.h"
 1502              		.file 22 "/usr/local/bin/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/math.h"
 1503              		.file 23 "../system/include/drivers/ms5611.h"
 1504              		.file 24 "../system/include/drivers/bme280.h"
 1505              		.file 25 "../include/rte_wx.h"
 1506              		.file 26 "/usr/local/bin/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/stdio.h"
 1507              		.file 27 "/usr/local/bin/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/string.h"
 1508              		.file 28 "../system/include/umb_master/umb_0x23_offline_data.h"
 1509              		.file 29 "../system/include/umb_master/umb_0x26_status.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 umb_master.c
     /tmp/ccpZ6Pn9.s:18     .text.umb_master_init:0000000000000000 $t
     /tmp/ccpZ6Pn9.s:25     .text.umb_master_init:0000000000000000 umb_master_init
     /tmp/ccpZ6Pn9.s:117    .text.umb_master_init:0000000000000058 $d
     /tmp/ccpZ6Pn9.s:122    .text.umb_calc_crc:0000000000000000 $t
     /tmp/ccpZ6Pn9.s:129    .text.umb_calc_crc:0000000000000000 umb_calc_crc
     /tmp/ccpZ6Pn9.s:175    .text.umb_parse_serial_buffer_to_frame:0000000000000000 $t
     /tmp/ccpZ6Pn9.s:182    .text.umb_parse_serial_buffer_to_frame:0000000000000000 umb_parse_serial_buffer_to_frame
     /tmp/ccpZ6Pn9.s:370    .text.umb_parse_frame_to_serial_buffer:0000000000000000 $t
     /tmp/ccpZ6Pn9.s:377    .text.umb_parse_frame_to_serial_buffer:0000000000000000 umb_parse_frame_to_serial_buffer
     /tmp/ccpZ6Pn9.s:539    .text.umb_master_callback:0000000000000000 $t
     /tmp/ccpZ6Pn9.s:546    .text.umb_master_callback:0000000000000000 umb_master_callback
     /tmp/ccpZ6Pn9.s:614    .text.umb_pooling_handler:0000000000000000 $t
     /tmp/ccpZ6Pn9.s:621    .text.umb_pooling_handler:0000000000000000 umb_pooling_handler
     /tmp/ccpZ6Pn9.s:651    .text.umb_pooling_handler:000000000000001a $d
     /tmp/ccpZ6Pn9.s:657    .text.umb_pooling_handler:0000000000000020 $t
     /tmp/ccpZ6Pn9.s:808    .text.umb_pooling_handler:00000000000000d8 $d
     /tmp/ccpZ6Pn9.s:813    .text.umb_get_current_qf:0000000000000000 $t
     /tmp/ccpZ6Pn9.s:820    .text.umb_get_current_qf:0000000000000000 umb_get_current_qf
     /tmp/ccpZ6Pn9.s:916    .text.umb_get_current_qf:0000000000000054 $d
     /tmp/ccpZ6Pn9.s:922    .text.umb_construct_status_str:0000000000000000 $t
     /tmp/ccpZ6Pn9.s:929    .text.umb_construct_status_str:0000000000000000 umb_construct_status_str
     /tmp/ccpZ6Pn9.s:1106   .text.umb_construct_status_str:00000000000000bc $d
     /tmp/ccpZ6Pn9.s:1112   .text.umb_clear_error_history:0000000000000000 $t
     /tmp/ccpZ6Pn9.s:1119   .text.umb_clear_error_history:0000000000000000 umb_clear_error_history
     /tmp/ccpZ6Pn9.s:1158   .text.umb_get_windspeed:0000000000000000 $t
     /tmp/ccpZ6Pn9.s:1165   .text.umb_get_windspeed:0000000000000000 umb_get_windspeed
     /tmp/ccpZ6Pn9.s:1213   .text.umb_get_windspeed:000000000000002c $d
     /tmp/ccpZ6Pn9.s:1218   .text.umb_get_windgusts:0000000000000000 $t
     /tmp/ccpZ6Pn9.s:1225   .text.umb_get_windgusts:0000000000000000 umb_get_windgusts
     /tmp/ccpZ6Pn9.s:1273   .text.umb_get_windgusts:000000000000002c $d
     /tmp/ccpZ6Pn9.s:1278   .text.umb_get_winddirection:0000000000000000 $t
     /tmp/ccpZ6Pn9.s:1285   .text.umb_get_winddirection:0000000000000000 umb_get_winddirection
     /tmp/ccpZ6Pn9.s:1341   .text.umb_get_winddirection:0000000000000038 $d
     /tmp/ccpZ6Pn9.s:1347   .text.umb_get_temperature:0000000000000000 $t
     /tmp/ccpZ6Pn9.s:1354   .text.umb_get_temperature:0000000000000000 umb_get_temperature
     /tmp/ccpZ6Pn9.s:1403   .text.umb_get_temperature:000000000000003c $d
     /tmp/ccpZ6Pn9.s:1410   .text.umb_get_qnh:0000000000000000 $t
     /tmp/ccpZ6Pn9.s:1417   .text.umb_get_qnh:0000000000000000 umb_get_qnh
     /tmp/ccpZ6Pn9.s:1466   .text.umb_get_qnh:000000000000003c $d
     /tmp/ccpZ6Pn9.s:1473   .rodata.umb_construct_status_str.str1.4:0000000000000000 $d
                           .group:0000000000000000 wm4.0.95bc707da9dcffdc6c8c58936cbc8421
                           .group:0000000000000000 wm4._newlib_version.h.4.875b979a44719054cd750d0952ad3fd6
                           .group:0000000000000000 wm4.newlib.h.18.5e5ca3429233af402d406a202f1fc1ac
                           .group:0000000000000000 wm4.ieeefp.h.77.220d9cccac42cd58761758bee2df4ce6
                           .group:0000000000000000 wm4.features.h.22.fad1cec3bc7ff06488171438dbdcfd02
                           .group:0000000000000000 wm4.config.h.220.6cac6a9685cfce5e83c17784171638d9
                           .group:0000000000000000 wm4._ansi.h.31.de524f58584151836e90d8620a16f8e8
                           .group:0000000000000000 wm4.stddef.h.39.a38874c8f8a57e66301090908ec2a69f
                           .group:0000000000000000 wm4._default_types.h.6.959254cf5f09734ea7516c89e8bb21bd
                           .group:0000000000000000 wm4.lock.h.2.1461d1fff82dffe8bfddc23307f6484f
                           .group:0000000000000000 wm4._types.h.125.5cf8a495f1f7ef36777ad868a1e32068
                           .group:0000000000000000 wm4.stddef.h.161.5349cb105733e8777bfb0cf53c4e3f34
                           .group:0000000000000000 wm4._types.h.184.03611d4f6b5bec9997bcf4279eceba07
                           .group:0000000000000000 wm4.reent.h.17.90c2574d4acdcfce933db5cb09ff35fe
                           .group:0000000000000000 wm4.cdefs.h.47.0bcdf94cb40e176393dd1404056825b4
                           .group:0000000000000000 wm4.string.h.15.dab3980bf35408a4c507182805e2de3a
                           .group:0000000000000000 wm4.stddef.h.161.19e15733342b50ead2919490b095303e
                           .group:0000000000000000 wm4.stdio.h.27.3fc80220048df77954e38daec3bb9670
                           .group:0000000000000000 wm4.stdarg.h.34.3a23a216c0c293b3d2ea2e89281481e6
                           .group:0000000000000000 wm4.types.h.40.e8c16e7ec36ba55f133d0616070e25fc
                           .group:0000000000000000 wm4._stdint.h.10.c24fa3af3bc1706662bb5593a907e841
                           .group:0000000000000000 wm4._endian.h.31.65a10590763c3dde1ac4a7f66d7d4891
                           .group:0000000000000000 wm4.endian.h.9.49f3a4695c1b61e8a0808de3c4a106cb
                           .group:0000000000000000 wm4._timeval.h.30.0e8bfd94e85db17dda3286ee81496fe6
                           .group:0000000000000000 wm4.timespec.h.41.d855182eb0e690443ab8651bcedca6e1
                           .group:0000000000000000 wm4.select.h.19.97ca6fd0c752a0f3b6719fd314d361e6
                           .group:0000000000000000 wm4.types.h.69.ed3eae3cf73030a737515151ebcab7a1
                           .group:0000000000000000 wm4.sched.h.22.c60982713a5c428609783c78f9c78d95
                           .group:0000000000000000 wm4._pthreadtypes.h.36.fcee9961c35163dde6267ef772ad1972
                           .group:0000000000000000 wm4.stdio.h.2.4aa87247282eca6c8f36f9de33d8df1a
                           .group:0000000000000000 wm4.stdio.h.81.932d0c162786b883f622b8d05c120c78
                           .group:0000000000000000 wm4.stdintgcc.h.29.6d480f4ba0f60596e88234283d42444f
                           .group:0000000000000000 wm4.umb_defines.h.9.77e79b84cd2dd9a74204aaeb1ca9d6be
                           .group:0000000000000000 wm4.stm32l4xx.h.39.54a1fe1e096c7852edd649652f013a11
                           .group:0000000000000000 wm4.stm32l471xx.h.35.e78ad65c513105dda311dc495ac74d04
                           .group:0000000000000000 wm4.cmsis_version.h.32.46e8eccfa2cfeaae11d008bb2823a3ed
                           .group:0000000000000000 wm4.core_cm4.h.66.e4ff136c4a17abc46741866f64f8e729
                           .group:0000000000000000 wm4.cmsis_gcc.h.26.78077cef1206e937f7b56043ffca496a
                           .group:0000000000000000 wm4.core_cm4.h.174.fcddd62df80231752fa39eb9b61dadfe
                           .group:0000000000000000 wm4.mpu_armv7.h.32.4049752bb5792d4e15357775e9506cfc
                           .group:0000000000000000 wm4.stm32l471xx.h.423.ceac761476affad641a3347d7727acfd
                           .group:0000000000000000 wm4.stm32l4xx.h.197.fb1c68184133668ca24c44c29ba4361f
                           .group:0000000000000000 wm4.stm32l4xx_ll_usart.h.22.ec2beebcd146668c5b35749264d7b58a
                           .group:0000000000000000 wm4.serial.h.14.eed7cf013c382ed4598746b40f0e2523
                           .group:0000000000000000 wm4.umb_frame_t.h.9.05796095a57acd1575f07118cb6ab058
                           .group:0000000000000000 wm4.config_data.h.9.6026a38cd2f39158a8fd50707ba1bf90
                           .group:0000000000000000 wm4.station_config.h.9.d547169434a316afe56104ac612d2109
                           .group:0000000000000000 wm4.station_config_target_hw.h.9.a20e080416e80d1cff9c1b51cc464832
                           .group:0000000000000000 wm4.stm32l4xx_ll_gpio.h.22.6ea69d1eee1200f6e0d48e871aaa811d
                           .group:0000000000000000 wm4.dallas.h.28.4c25313e4181236c94847de9c84bd06e
                           .group:0000000000000000 wm4.analog_anemometer.h.9.8c21570f6fc3dcd7763ba4d0d5168e3c
                           .group:0000000000000000 wm4.math.h.13.adb102f7bd7860b1f241e149d6914a1e
                           .group:0000000000000000 wm4.ms5611.h.13.84fbf6afa85557f675e3d85f1be6067c
                           .group:0000000000000000 wm4.bme280.h.9.aefe05f9329372f30337537cea488dce
                           .group:0000000000000000 wm4.rte_wx.h.30.cb80bd87f9fae81b43459954f1781e96

UNDEFINED SYMBOLS
rte_wx_umb_channel_values
memset
umb_0x23_offline_data_callback
rte_wx_update_last_measuremenet_timers
umb_0x26_status_callback
srl_start_tx
srl_receive_data
srl_switch_timeout
srl_switch_timeout_for_waiting
srl_get_rx_buffer
srl_get_num_bytes_rxed
rte_wx_umb
snprintf
strcat
