   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"digi.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.digi_init,"ax",%progbits
  16              		.align	1
  17              		.global	digi_init
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu softvfp
  23              	digi_init:
  24              	.LFB71:
  25              		.file 1 "../system/src/aprs/digi.c"
   1:../system/src/aprs/digi.c **** /*
   2:../system/src/aprs/digi.c ****  * digi.c
   3:../system/src/aprs/digi.c ****  *
   4:../system/src/aprs/digi.c ****  *  Created on: 28.05.2017
   5:../system/src/aprs/digi.c ****  *      Author: mateusz
   6:../system/src/aprs/digi.c ****  */
   7:../system/src/aprs/digi.c **** 
   8:../system/src/aprs/digi.c **** #include <string.h>
   9:../system/src/aprs/digi.c **** 
  10:../system/src/aprs/digi.c **** #include "aprs/digi.h"
  11:../system/src/aprs/digi.c **** #include "main.h"
  12:../system/src/aprs/digi.c **** #include "TimerConfig.h"
  13:../system/src/aprs/digi.c **** #include "delay.h"
  14:../system/src/aprs/digi.c **** 
  15:../system/src/aprs/digi.c **** #include "station_config.h"
  16:../system/src/aprs/digi.c **** #include "config.h"
  17:../system/src/aprs/digi.c **** 
  18:../system/src/aprs/digi.c **** // global variables to store a frame content to be digipeated
  19:../system/src/aprs/digi.c **** uint8_t digi_msg[CONFIG_AX25_FRAME_BUF_LEN];
  20:../system/src/aprs/digi.c **** uint16_t digi_msg_len;
  21:../system/src/aprs/digi.c **** AX25Call digi_path[7];
  22:../system/src/aprs/digi.c **** uint8_t digi_call_len = 0;
  23:../system/src/aprs/digi.c **** 
  24:../system/src/aprs/digi.c **** // digipeater working mode
  25:../system/src/aprs/digi.c **** digi_mode_t digi_mode;
  26:../system/src/aprs/digi.c **** 
  27:../system/src/aprs/digi.c **** uint8_t digi_viscous_delay_sec;
  28:../system/src/aprs/digi.c **** uint8_t digi_viscous_counter_sec;
  29:../system/src/aprs/digi.c **** 
  30:../system/src/aprs/digi.c **** 
  31:../system/src/aprs/digi.c **** void digi_init(const config_data_mode_t* const config_data_mode) {
  26              		.loc 1 31 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              		@ link register save eliminated.
  31              	.LVL0:
  32:../system/src/aprs/digi.c **** 	digi_viscous_counter_sec = 0;
  32              		.loc 1 32 0
  33 0000 0023     		movs	r3, #0
  34 0002 114A     		ldr	r2, .L9
  35 0004 1370     		strb	r3, [r2]
  33:../system/src/aprs/digi.c **** 
  34:../system/src/aprs/digi.c **** 	digi_msg_len = 0;
  36              		.loc 1 34 0
  37 0006 114A     		ldr	r2, .L9+4
  38 0008 1380     		strh	r3, [r2]	@ movhi
  35:../system/src/aprs/digi.c **** 
  36:../system/src/aprs/digi.c **** 	digi_mode = DIGI_OFF;
  39              		.loc 1 36 0
  40 000a 114A     		ldr	r2, .L9+8
  41 000c 1370     		strb	r3, [r2]
  37:../system/src/aprs/digi.c **** 
  38:../system/src/aprs/digi.c **** 	if (config_data_mode->digi_viscous == 1) {
  42              		.loc 1 38 0
  43 000e 037A     		ldrb	r3, [r0, #8]	@ zero_extendqisi2
  44 0010 012B     		cmp	r3, #1
  45 0012 09D0     		beq	.L6
  39:../system/src/aprs/digi.c **** 
  40:../system/src/aprs/digi.c **** 		if (config_data_mode->digi_only_ssids == 1) {
  41:../system/src/aprs/digi.c **** 			digi_mode = DIGI_VISCOUS_SSID_WIDE1;
  42:../system/src/aprs/digi.c **** 		}
  43:../system/src/aprs/digi.c **** 		else {
  44:../system/src/aprs/digi.c **** 			digi_mode = DIGI_VISCOUS_ALL_WIDE1;
  45:../system/src/aprs/digi.c **** 		}
  46:../system/src/aprs/digi.c **** 	}
  47:../system/src/aprs/digi.c **** 	else {
  48:../system/src/aprs/digi.c **** 		if (config_data_mode->digi_only_ssids == 1) {
  46              		.loc 1 48 0
  47 0014 437A     		ldrb	r3, [r0, #9]	@ zero_extendqisi2
  48 0016 012B     		cmp	r3, #1
  49 0018 11D0     		beq	.L7
  49:../system/src/aprs/digi.c **** 			digi_mode = DIGI_ON_SSID_WIDE1;
  50:../system/src/aprs/digi.c **** 		}
  51:../system/src/aprs/digi.c **** 		else {
  52:../system/src/aprs/digi.c **** 			digi_mode = DIGI_ON_ALL_WIDE1;
  50              		.loc 1 52 0
  51 001a 0D4B     		ldr	r3, .L9+8
  52 001c 0122     		movs	r2, #1
  53 001e 1A70     		strb	r2, [r3]
  54              	.L4:
  53:../system/src/aprs/digi.c **** 		}
  54:../system/src/aprs/digi.c **** 	}
  55:../system/src/aprs/digi.c **** 
  56:../system/src/aprs/digi.c **** 	digi_viscous_delay_sec = config_data_mode->digi_viscous_delay_sec;
  55              		.loc 1 56 0
  56 0020 827A     		ldrb	r2, [r0, #10]	@ zero_extendqisi2
  57 0022 0C4B     		ldr	r3, .L9+12
  58 0024 1A70     		strb	r2, [r3]
  57:../system/src/aprs/digi.c **** 
  58:../system/src/aprs/digi.c **** //#ifdef _DIGI_VISCOUS
  59:../system/src/aprs/digi.c **** //
  60:../system/src/aprs/digi.c **** //	#ifdef _DIGI_ONLY_789
  61:../system/src/aprs/digi.c **** //		digi_mode = DIGI_VISCOUS_SSID_WIDE1;
  62:../system/src/aprs/digi.c **** //	#else
  63:../system/src/aprs/digi.c **** //		digi_mode = DIGI_VISCOUS_ALL_WIDE1;
  64:../system/src/aprs/digi.c **** //	#endif
  65:../system/src/aprs/digi.c **** //
  66:../system/src/aprs/digi.c **** //#else
  67:../system/src/aprs/digi.c **** //
  68:../system/src/aprs/digi.c **** //	#ifdef _DIGI_ONLY_789
  69:../system/src/aprs/digi.c **** //		digi_mode = DIGI_ON_SSID_WIDE1;
  70:../system/src/aprs/digi.c **** //	#else
  71:../system/src/aprs/digi.c **** //		digi_mode = DIGI_ON_ALL_WIDE1;
  72:../system/src/aprs/digi.c **** //	#endif
  73:../system/src/aprs/digi.c **** //
  74:../system/src/aprs/digi.c **** //#endif
  75:../system/src/aprs/digi.c **** 
  76:../system/src/aprs/digi.c **** //#ifdef _DIGI_VISCOUS_DEALY
  77:../system/src/aprs/digi.c **** //		digi_viscous_delay_sec =_DIGI_VISCOUS_DEALY;
  78:../system/src/aprs/digi.c **** //#else
  79:../system/src/aprs/digi.c **** //		digi_viscous_delay_sec = 3;
  80:../system/src/aprs/digi.c **** //#endif
  81:../system/src/aprs/digi.c **** }
  59              		.loc 1 81 0
  60 0026 7047     		bx	lr
  61              	.L6:
  40:../system/src/aprs/digi.c **** 			digi_mode = DIGI_VISCOUS_SSID_WIDE1;
  62              		.loc 1 40 0
  63 0028 437A     		ldrb	r3, [r0, #9]	@ zero_extendqisi2
  64 002a 012B     		cmp	r3, #1
  65 002c 03D0     		beq	.L8
  44:../system/src/aprs/digi.c **** 		}
  66              		.loc 1 44 0
  67 002e 084B     		ldr	r3, .L9+8
  68 0030 0322     		movs	r2, #3
  69 0032 1A70     		strb	r2, [r3]
  70 0034 F4E7     		b	.L4
  71              	.L8:
  41:../system/src/aprs/digi.c **** 		}
  72              		.loc 1 41 0
  73 0036 1346     		mov	r3, r2
  74 0038 0422     		movs	r2, #4
  75 003a 1A70     		strb	r2, [r3]
  76 003c F0E7     		b	.L4
  77              	.L7:
  49:../system/src/aprs/digi.c **** 		}
  78              		.loc 1 49 0
  79 003e 044B     		ldr	r3, .L9+8
  80 0040 0222     		movs	r2, #2
  81 0042 1A70     		strb	r2, [r3]
  82 0044 ECE7     		b	.L4
  83              	.L10:
  84 0046 00BF     		.align	2
  85              	.L9:
  86 0048 00000000 		.word	digi_viscous_counter_sec
  87 004c 00000000 		.word	digi_msg_len
  88 0050 00000000 		.word	digi_mode
  89 0054 00000000 		.word	digi_viscous_delay_sec
  90              		.cfi_endproc
  91              	.LFE71:
  93              		.section	.text.digi_process,"ax",%progbits
  94              		.align	1
  95              		.global	digi_process
  96              		.syntax unified
  97              		.thumb
  98              		.thumb_func
  99              		.fpu softvfp
 101              	digi_process:
 102              	.LFB72:
  82:../system/src/aprs/digi.c **** 
  83:../system/src/aprs/digi.c **** uint8_t digi_process(struct AX25Msg *msg, const config_data_basic_t* const config, const config_dat
 103              		.loc 1 83 0
 104              		.cfi_startproc
 105              		@ args = 0, pretend = 0, frame = 0
 106              		@ frame_needed = 0, uses_anonymous_args = 0
 107              		@ link register save eliminated.
 108              	.LVL1:
  84:../system/src/aprs/digi.c **** 	uint8_t retval = DIGI_PACKET_DIDNT_DIGIPEATED;
  85:../system/src/aprs/digi.c **** 
  86:../system/src/aprs/digi.c **** #ifdef _DIGI
  87:../system/src/aprs/digi.c **** 
  88:../system/src/aprs/digi.c **** 	// check if the received message is not too long for the transmit buffers
  89:../system/src/aprs/digi.c **** 	if (msg->len >= (CONFIG_AX25_FRAME_BUF_LEN - sizeof(AX25Call) * 7) ) {
  90:../system/src/aprs/digi.c **** 		return DIGI_PACKET_TOO_LONG;
  91:../system/src/aprs/digi.c **** 	}
  92:../system/src/aprs/digi.c **** 
  93:../system/src/aprs/digi.c **** 	if ((msg->src.ssid < 7 || msg->src.ssid > 9) && (digi_mode == DIGI_ON_SSID_WIDE1 || digi_mode == D
  94:../system/src/aprs/digi.c **** 		return DIGI_PACKET_DIDNT_DIGIPEATED;
  95:../system/src/aprs/digi.c **** 	}
  96:../system/src/aprs/digi.c **** 
  97:../system/src/aprs/digi.c **** 	if (after_tx_lock == 0) {
  98:../system/src/aprs/digi.c **** 		// if the packet has any path and there is no packed waiting in viscous delay
  99:../system/src/aprs/digi.c **** 		if(msg->rpt_cnt >= 1 && digi_msg_len == 0) {
 100:../system/src/aprs/digi.c **** 
 101:../system/src/aprs/digi.c **** 			// initialize global variables used to store digipeated packet
 102:../system/src/aprs/digi.c **** 			memset(digi_path, 0x00, sizeof(AX25Call) * 7);
 103:../system/src/aprs/digi.c **** 			memset(digi_msg, 0x00, CONFIG_AX25_FRAME_BUF_LEN);
 104:../system/src/aprs/digi.c **** 
 105:../system/src/aprs/digi.c **** //			if (msg->rpt_cnt == 1 && strcmp("WIDE2", msg->rpt_lst[0].call) == 0 && (msg->rpt_lst[0].ssid =
 106:../system/src/aprs/digi.c **** //				/* Powtarzanie ścieżki WIDE2-1 i WIDE2-2 */
 107:../system/src/aprs/digi.c **** //				strcpy(digi_path[0].call, msg->dst.call);	// znak docelowy
 108:../system/src/aprs/digi.c **** //				digi_path[0].ssid = msg->dst.ssid;
 109:../system/src/aprs/digi.c **** //				strcpy(digi_path[1].call, msg->src.call);	// znak zrodlowy
 110:../system/src/aprs/digi.c **** //				digi_path[1].ssid = msg->src.ssid;
 111:../system/src/aprs/digi.c **** //				sprintf(digi_path[2].call, "%s", "SR8WXO");	// zamiana WIDE2-2 albo WIDE2-1 na znak digi
 112:../system/src/aprs/digi.c **** //				digi_path[2].ssid = 0x40;
 113:../system/src/aprs/digi.c **** //				sprintf(digi_path[3].call, "%s", "WIDE2");	// dodawanie WIDE2*
 114:../system/src/aprs/digi.c **** //				digi_path[3].ssid = 0x40;			/* 0x40 oznacza jedynkę na 6 bicie (przy numeracji od zera). Po 
 115:../system/src/aprs/digi.c **** //													   otrzymuje się 0x80 czyli jedynkę na H-bicie */
 116:../system/src/aprs/digi.c **** //				digi_q = 1;
 117:../system/src/aprs/digi.c **** //				call_len = 4;	// długość ścieżki
 118:../system/src/aprs/digi.c **** 
 119:../system/src/aprs/digi.c **** //			}
 120:../system/src/aprs/digi.c **** 			if (msg->rpt_cnt == 1 && strcmp("WIDE1", msg->rpt_lst[0].call) == 0 && msg->rpt_lst[0].ssid == 1
 121:../system/src/aprs/digi.c **** 				/* Powtarzanie ścieżki WIDE1-1 */
 122:../system/src/aprs/digi.c **** 				strcpy(digi_path[0].call, msg->dst.call);	// znak docelowy
 123:../system/src/aprs/digi.c **** 				digi_path[0].ssid = msg->dst.ssid;
 124:../system/src/aprs/digi.c **** 				strcpy(digi_path[1].call, msg->src.call);	// znak zrodlowy
 125:../system/src/aprs/digi.c **** 				digi_path[1].ssid = msg->src.ssid;
 126:../system/src/aprs/digi.c **** 				sprintf(digi_path[2].call, "%s", config->callsign);	// zamiana WIDE2-2 albo WIDE2-1 na znak dig
 127:../system/src/aprs/digi.c **** 				digi_path[2].ssid = (config->ssid | 0x40);
 128:../system/src/aprs/digi.c **** 				sprintf(digi_path[3].call, "%s", "WIDE1");	// dodawanie WIDE2*
 129:../system/src/aprs/digi.c **** 				digi_path[3].ssid = 0x40;			/* 0x40 oznacza jedynkę na 6 bicie (przy numeracji od zera). Po pr
 130:../system/src/aprs/digi.c **** 													   otrzymuje się 0x80 czyli jedynkę na H-bicie */
 131:../system/src/aprs/digi.c **** 				retval = DIGI_PACKET_DIGIPEATED;
 132:../system/src/aprs/digi.c **** 				digi_call_len = 4;	// długość ścieżki
 133:../system/src/aprs/digi.c **** 
 134:../system/src/aprs/digi.c **** 			}
 135:../system/src/aprs/digi.c **** 			else if(msg->rpt_cnt > 1 && strcmp("WIDE1", msg->rpt_lst[0].call) == 0 && strcmp("WIDE2", msg->r
 136:../system/src/aprs/digi.c **** 				/* Powtarzanie aliasu WIDE1-1 w sciezce typu WIDE1-1,WIDE2-1     */
 137:../system/src/aprs/digi.c **** 				strcpy(digi_path[0].call, msg->dst.call);	// znak docelowy
 138:../system/src/aprs/digi.c **** 				digi_path[0].ssid = msg->dst.ssid;
 139:../system/src/aprs/digi.c **** 				strcpy(digi_path[1].call, msg->src.call);	// znak zrodlowy
 140:../system/src/aprs/digi.c **** 				digi_path[1].ssid = msg->src.ssid;
 141:../system/src/aprs/digi.c **** 				sprintf(digi_path[2].call, "%s", config->callsign);	// zamiana WIDE1-1 na własny znak digi
 142:../system/src/aprs/digi.c **** 				digi_path[2].ssid =  (config->ssid | 0x40);
 143:../system/src/aprs/digi.c **** 				sprintf(digi_path[3].call, "%s", "WIDE1");	// dodawanie WIDE1* na końcu
 144:../system/src/aprs/digi.c **** 				digi_path[3].ssid = 0x40;
 145:../system/src/aprs/digi.c **** 				sprintf(digi_path[4].call, "%s", msg->rpt_lst[1].call);	// przepisywanie WIDE2-1
 146:../system/src/aprs/digi.c **** 				digi_path[4].ssid = msg->rpt_lst[1].ssid;
 147:../system/src/aprs/digi.c **** 				retval = DIGI_PACKET_DIGIPEATED;
 148:../system/src/aprs/digi.c **** 				digi_call_len = 5;
 149:../system/src/aprs/digi.c **** 			}
 150:../system/src/aprs/digi.c **** 			else if(msg->rpt_cnt > 1 && strcmp("WIDE1", msg->rpt_lst[0].call) == 0 && strcmp("WIDE2", msg->r
 151:../system/src/aprs/digi.c **** 				/* Powtarzanie aliasu WIDE1-1 w sciezce typu WIDE1-1,WIDE2-2     */
 152:../system/src/aprs/digi.c **** 				strcpy(digi_path[0].call, msg->dst.call);	// znak docelowy
 153:../system/src/aprs/digi.c **** 				digi_path[0].ssid = msg->dst.ssid;
 154:../system/src/aprs/digi.c **** 				strcpy(digi_path[1].call, msg->src.call);	// znak zrodlowy
 155:../system/src/aprs/digi.c **** 				digi_path[1].ssid = msg->src.ssid;
 156:../system/src/aprs/digi.c **** 				sprintf(digi_path[2].call, "%s", config->callsign);	// zamiana WIDE1-1 na własny znak digi
 157:../system/src/aprs/digi.c **** 				digi_path[2].ssid = (config->ssid | 0x40);
 158:../system/src/aprs/digi.c **** 				sprintf(digi_path[3].call, "%s", "WIDE1");	// dodawanie WIDE1* na końcu
 159:../system/src/aprs/digi.c **** 				digi_path[3].ssid = 0x40;
 160:../system/src/aprs/digi.c **** 				sprintf(digi_path[4].call, "%s", "WIDE2");	// skracanie dalszej czesci do WIDE2-1
 161:../system/src/aprs/digi.c **** 				digi_path[4].ssid = 1;
 162:../system/src/aprs/digi.c **** 				retval = DIGI_PACKET_DIGIPEATED;
 163:../system/src/aprs/digi.c **** 				digi_call_len = 5;
 164:../system/src/aprs/digi.c **** 			}
 165:../system/src/aprs/digi.c **** //			else if (msg->rpt_cnt >= 2 && strcmp("WIDE2", msg->rpt_lst[1].call) == 0 && msg->rpt_lst[1].ss
 166:../system/src/aprs/digi.c **** //				/* Powtarzanie aliasu WIDE2-1 w sciezce WIDE2*,WIDE2-1 */
 167:../system/src/aprs/digi.c **** //				strcpy(digi_path[0].call, msg->dst.call);	// znak docelowy
 168:../system/src/aprs/digi.c **** //				digi_path[0].ssid = msg->dst.ssid;
 169:../system/src/aprs/digi.c **** //				strcpy(digi_path[1].call, msg->src.call);	// znak zrodlowy
 170:../system/src/aprs/digi.c **** //				digi_path[1].ssid = msg->src.ssid;
 171:../system/src/aprs/digi.c **** //				sprintf(digi_path[2].call, "%s", msg->rpt_lst[0].call);	// dołączanie znaku poprzedniego di
 172:../system/src/aprs/digi.c **** //				digi_path[2].ssid = (msg->rpt_lst[0].ssid | 0x40);
 173:../system/src/aprs/digi.c **** //				sprintf(digi_path[3].call, "%s", "SR8WXO");	// zamiana WIDE2-1 na własny znak digi
 174:../system/src/aprs/digi.c **** //				digi_path[3].ssid = 0x40;
 175:../system/src/aprs/digi.c **** //				sprintf(digi_path[4].call, "%s", "WIDE2");	// dodawanie WIDE2* na końcu
 176:../system/src/aprs/digi.c **** //				digi_path[4].ssid = 0x40;
 177:../system/src/aprs/digi.c **** //				digi_q = 1;
 178:../system/src/aprs/digi.c **** //				call_len = 5;
 179:../system/src/aprs/digi.c **** //			}
 180:../system/src/aprs/digi.c **** //			else if(msg->rpt_cnt >= 2 && strcmp("WIDE2", msg->rpt_lst[2].call) == 0 && (msg->rpt_lst[2].ss
 181:../system/src/aprs/digi.c **** //				/* Powtarzanie aliasu WIDE2-1 oraz WIDE 2-2 w sciezce typu WIDE1*,WIDE2-n     */
 182:../system/src/aprs/digi.c **** //				strcpy(digi_path[0].call, msg->dst.call);	// znak docelowy
 183:../system/src/aprs/digi.c **** //				digi_path[0].ssid = msg->dst.ssid;
 184:../system/src/aprs/digi.c **** //				strcpy(digi_path[1].call, msg->src.call);	// znak zrodlowy
 185:../system/src/aprs/digi.c **** //				digi_path[1].ssid = msg->src.ssid;
 186:../system/src/aprs/digi.c **** //				sprintf(digi_path[2].call, "%s", msg->rpt_lst[0].call);	// dołączanie znaku poprzedniego di
 187:../system/src/aprs/digi.c **** //				digi_path[2].ssid = (msg->rpt_lst[0].ssid | 0x40);
 188:../system/src/aprs/digi.c **** // 				sprintf(digi_path[3].call, "%s", "WIDE1");	// dodawanie WIDE1 na końcu
 189:../system/src/aprs/digi.c **** //				digi_path[3].ssid = 0x40;
 190:../system/src/aprs/digi.c **** //				sprintf(digi_path[4].call, "%s", "SR8WXO");		// zamiana WIDE2-1 albo WIDE2-2 na własny znak 
 191:../system/src/aprs/digi.c **** //				digi_path[4].ssid = 0x40;
 192:../system/src/aprs/digi.c **** //				sprintf(digi_path[5].call, "%s", "WIDE2");	// dodawanie WIDE2* na końcu
 193:../system/src/aprs/digi.c **** //				digi_path[5].ssid = 0x40;
 194:../system/src/aprs/digi.c **** //				digi_q = 1;
 195:../system/src/aprs/digi.c **** //				call_len = 6;
 196:../system/src/aprs/digi.c **** //			}
 197:../system/src/aprs/digi.c **** //			else if(msg->rpt_cnt >= 4 && strcmp("WIDE2", msg->rpt_lst[3].call) == 0 && (msg->rpt_lst[3].ss
 198:../system/src/aprs/digi.c **** //				/* Powtarzanie aliasu WIDE2-1 w sciezce typu WIDE1*,WIDE2*,WIDE2-1     */
 199:../system/src/aprs/digi.c **** //				strcpy(digi_path[0].call, msg->dst.call);	// znak docelowy
 200:../system/src/aprs/digi.c **** //				digi_path[0].ssid = msg->dst.ssid;
 201:../system/src/aprs/digi.c **** //				strcpy(digi_path[1].call, msg->src.call);	// znak zrodlowy
 202:../system/src/aprs/digi.c **** //				digi_path[1].ssid = msg->src.ssid;
 203:../system/src/aprs/digi.c **** //				sprintf(digi_path[2].call, "%s", msg->rpt_lst[0].call);	// dołączanie znaku poprzedniego di
 204:../system/src/aprs/digi.c **** //				digi_path[2].ssid = (msg->rpt_lst[0].ssid | 0x40);
 205:../system/src/aprs/digi.c **** //				sprintf(digi_path[3].call, "%s", "WIDE1");	// dodawanie WIDE1
 206:../system/src/aprs/digi.c **** //				digi_path[3].ssid = 0x40;
 207:../system/src/aprs/digi.c **** //				sprintf(digi_path[4].call, "%s", msg->rpt_lst[2].call);	// dołączanie znaku poprzedniego di
 208:../system/src/aprs/digi.c **** //				digi_path[4].ssid = (msg->rpt_lst[2].ssid | 0x40);
 209:../system/src/aprs/digi.c **** //				sprintf(digi_path[5].call, "%s", "SR8WXO");		// zamiana WIDE2-1 na własny znak digi
 210:../system/src/aprs/digi.c **** //				digi_path[5].ssid = 0x40;
 211:../system/src/aprs/digi.c **** //				sprintf(digi_path[6].call, "%s", "WIDE2");	// dodawanie WIDE2* na końcu
 212:../system/src/aprs/digi.c **** //				digi_path[6].ssid = 0x40;
 213:../system/src/aprs/digi.c **** //				digi_q = 1;
 214:../system/src/aprs/digi.c **** //				call_len = 7;
 215:../system/src/aprs/digi.c **** //			}
 216:../system/src/aprs/digi.c **** 
 217:../system/src/aprs/digi.c **** 			if (retval == DIGI_PACKET_DIGIPEATED) {
 218:../system/src/aprs/digi.c **** 
 219:../system/src/aprs/digi.c **** 				// copying the content
 220:../system/src/aprs/digi.c **** 				digi_msg_len = msg->len+1;
 221:../system/src/aprs/digi.c **** 				snprintf(digi_msg, msg->len+1, "%s", msg->info);
 222:../system/src/aprs/digi.c **** 
 223:../system/src/aprs/digi.c **** 				// if Viscous mode is not enabled proceed to transmission immediately
 224:../system/src/aprs/digi.c **** 				if (digi_mode == DIGI_ON_SSID_WIDE1 || digi_mode == DIGI_ON_ALL_WIDE1) {
 225:../system/src/aprs/digi.c **** 					digi10m++;
 226:../system/src/aprs/digi.c **** 
 227:../system/src/aprs/digi.c **** 					// delaying retransmission.. well this will block I/O for a while
 228:../system/src/aprs/digi.c **** 					// and it could be refactor to ommit that but for now it needs to stay
 229:../system/src/aprs/digi.c **** 					// as it is.
 230:../system/src/aprs/digi.c **** 					delay_from_preset();
 231:../system/src/aprs/digi.c **** 
 232:../system/src/aprs/digi.c **** 					while(main_ax25.dcd == true);
 233:../system/src/aprs/digi.c **** 					ax25_sendVia(&main_ax25, digi_path, digi_call_len, digi_msg, digi_msg_len-1);
 234:../system/src/aprs/digi.c **** 					after_tx_lock = 1;
 235:../system/src/aprs/digi.c **** 					afsk_txStart(&main_afsk);
 236:../system/src/aprs/digi.c **** 
 237:../system/src/aprs/digi.c **** 					// clear variables when there are not needed
 238:../system/src/aprs/digi.c **** 					memset(digi_path, 0x00, sizeof(AX25Call) * 7);
 239:../system/src/aprs/digi.c **** 					memset(digi_msg, 0x00, CONFIG_AX25_FRAME_BUF_LEN);
 240:../system/src/aprs/digi.c **** 					digi_msg_len = 0;
 241:../system/src/aprs/digi.c **** 
 242:../system/src/aprs/digi.c **** 					return retval;
 243:../system/src/aprs/digi.c **** 
 244:../system/src/aprs/digi.c **** 				} // digi_mode == DIGI_ON_SSID_WIDE1 || digi_mode == DIGI_ON_ALL_WIDE1
 245:../system/src/aprs/digi.c **** 			}	// retval == DIGI_PACKET_DIGIPEATED
 246:../system/src/aprs/digi.c **** 		} // msg->rpt_cnt >= 1 && digi_msg_len == 0
 247:../system/src/aprs/digi.c **** 	}
 248:../system/src/aprs/digi.c **** 	else {
 249:../system/src/aprs/digi.c **** 		after_tx_lock = 0;
 250:../system/src/aprs/digi.c **** 	}
 251:../system/src/aprs/digi.c **** #endif
 252:../system/src/aprs/digi.c **** 	return retval;
 253:../system/src/aprs/digi.c **** }
 109              		.loc 1 253 0
 110 0000 0020     		movs	r0, #0
 111              	.LVL2:
 112 0002 7047     		bx	lr
 113              		.cfi_endproc
 114              	.LFE72:
 116              		.section	.text.digi_check_with_viscous,"ax",%progbits
 117              		.align	1
 118              		.global	digi_check_with_viscous
 119              		.syntax unified
 120              		.thumb
 121              		.thumb_func
 122              		.fpu softvfp
 124              	digi_check_with_viscous:
 125              	.LFB73:
 254:../system/src/aprs/digi.c **** 
 255:../system/src/aprs/digi.c **** uint8_t digi_check_with_viscous(struct AX25Msg *msg) {
 126              		.loc 1 255 0
 127              		.cfi_startproc
 128              		@ args = 0, pretend = 0, frame = 0
 129              		@ frame_needed = 0, uses_anonymous_args = 0
 130              	.LVL3:
 256:../system/src/aprs/digi.c **** 	uint8_t retval = 0;
 257:../system/src/aprs/digi.c **** 
 258:../system/src/aprs/digi.c **** 	// if there is a message waiting in buffer for digipeating
 259:../system/src/aprs/digi.c **** 	if (digi_msg_len > 0) {
 131              		.loc 1 259 0
 132 0000 134B     		ldr	r3, .L20
 133 0002 1B88     		ldrh	r3, [r3]
 134 0004 0BB9     		cbnz	r3, .L18
 260:../system/src/aprs/digi.c **** 		// check the source call
 261:../system/src/aprs/digi.c **** 		if (strncmp(msg->src.call, digi_path[1].call, 6) == 0)  {
 262:../system/src/aprs/digi.c **** 			// if the source call is the same check the SSID
 263:../system/src/aprs/digi.c **** 			if (msg->src.ssid == digi_path[1].ssid) {
 264:../system/src/aprs/digi.c **** 				// this is a message from the same station check the message content
 265:../system/src/aprs/digi.c **** 				if (memcmp(msg->info, digi_msg, msg->len) == 0) {
 266:../system/src/aprs/digi.c **** 					// if the message content is the same it means that current buffer content shall be discarded
 267:../system/src/aprs/digi.c **** 					// and frame shall not be retransmited
 268:../system/src/aprs/digi.c **** 					digi_msg_len = 0;
 269:../system/src/aprs/digi.c **** 					memset(digi_msg, 0x00, CONFIG_AX25_FRAME_BUF_LEN);
 270:../system/src/aprs/digi.c **** 
 271:../system/src/aprs/digi.c **** 					// increase viscous drop counter
 272:../system/src/aprs/digi.c **** 					digidrop10m++;
 273:../system/src/aprs/digi.c **** 				}
 274:../system/src/aprs/digi.c **** 			}
 275:../system/src/aprs/digi.c **** 		}
 276:../system/src/aprs/digi.c **** 	}
 277:../system/src/aprs/digi.c **** 
 278:../system/src/aprs/digi.c **** 	return retval;
 279:../system/src/aprs/digi.c **** }
 135              		.loc 1 279 0
 136 0006 0020     		movs	r0, #0
 137              	.LVL4:
 138 0008 7047     		bx	lr
 139              	.LVL5:
 140              	.L18:
 255:../system/src/aprs/digi.c **** 	uint8_t retval = 0;
 141              		.loc 1 255 0
 142 000a 10B5     		push	{r4, lr}
 143              		.cfi_def_cfa_offset 8
 144              		.cfi_offset 4, -8
 145              		.cfi_offset 14, -4
 146 000c 0446     		mov	r4, r0
 261:../system/src/aprs/digi.c **** 			// if the source call is the same check the SSID
 147              		.loc 1 261 0
 148 000e 0622     		movs	r2, #6
 149 0010 1049     		ldr	r1, .L20+4
 150 0012 FFF7FEFF 		bl	strncmp
 151              	.LVL6:
 152 0016 20B9     		cbnz	r0, .L13
 263:../system/src/aprs/digi.c **** 				// this is a message from the same station check the message content
 153              		.loc 1 263 0
 154 0018 A279     		ldrb	r2, [r4, #6]	@ zero_extendqisi2
 155 001a 0F4B     		ldr	r3, .L20+8
 156 001c 5B7B     		ldrb	r3, [r3, #13]	@ zero_extendqisi2
 157 001e 9A42     		cmp	r2, r3
 158 0020 01D0     		beq	.L19
 159              	.L13:
 160              		.loc 1 279 0
 161 0022 0020     		movs	r0, #0
 162 0024 10BD     		pop	{r4, pc}
 163              	.LVL7:
 164              	.L19:
 265:../system/src/aprs/digi.c **** 					// if the message content is the same it means that current buffer content shall be discarded
 165              		.loc 1 265 0
 166 0026 B4F85020 		ldrh	r2, [r4, #80]
 167 002a 0C49     		ldr	r1, .L20+12
 168 002c E06C     		ldr	r0, [r4, #76]
 169 002e FFF7FEFF 		bl	memcmp
 170              	.LVL8:
 171 0032 0028     		cmp	r0, #0
 172 0034 F5D1     		bne	.L13
 268:../system/src/aprs/digi.c **** 					memset(digi_msg, 0x00, CONFIG_AX25_FRAME_BUF_LEN);
 173              		.loc 1 268 0
 174 0036 0021     		movs	r1, #0
 175 0038 054B     		ldr	r3, .L20
 176 003a 1980     		strh	r1, [r3]	@ movhi
 269:../system/src/aprs/digi.c **** 
 177              		.loc 1 269 0
 178 003c 4FF40072 		mov	r2, #512
 179 0040 0648     		ldr	r0, .L20+12
 180 0042 FFF7FEFF 		bl	memset
 181              	.LVL9:
 272:../system/src/aprs/digi.c **** 				}
 182              		.loc 1 272 0
 183 0046 064A     		ldr	r2, .L20+16
 184 0048 1388     		ldrh	r3, [r2]
 185 004a 0133     		adds	r3, r3, #1
 186 004c 1380     		strh	r3, [r2]	@ movhi
 187 004e E8E7     		b	.L13
 188              	.L21:
 189              		.align	2
 190              	.L20:
 191 0050 00000000 		.word	digi_msg_len
 192 0054 07000000 		.word	digi_path+7
 193 0058 00000000 		.word	digi_path
 194 005c 00000000 		.word	digi_msg
 195 0060 00000000 		.word	digidrop10m
 196              		.cfi_endproc
 197              	.LFE73:
 199              		.section	.text.digi_pool_viscous,"ax",%progbits
 200              		.align	1
 201              		.global	digi_pool_viscous
 202              		.syntax unified
 203              		.thumb
 204              		.thumb_func
 205              		.fpu softvfp
 207              	digi_pool_viscous:
 208              	.LFB74:
 280:../system/src/aprs/digi.c **** 
 281:../system/src/aprs/digi.c **** uint8_t digi_pool_viscous(void) {
 209              		.loc 1 281 0
 210              		.cfi_startproc
 211              		@ args = 0, pretend = 0, frame = 0
 212              		@ frame_needed = 0, uses_anonymous_args = 0
 213              	.LVL10:
 282:../system/src/aprs/digi.c **** 	uint8_t retval = DIGI_PACKET_DIDNT_DIGIPEATED;
 283:../system/src/aprs/digi.c **** 
 284:../system/src/aprs/digi.c **** 	// proceed only if Viscous mode is enabled
 285:../system/src/aprs/digi.c **** 	if (digi_mode == DIGI_VISCOUS_ALL_WIDE1 || digi_mode == DIGI_VISCOUS_SSID_WIDE1) {
 214              		.loc 1 285 0
 215 0000 244B     		ldr	r3, .L32
 216 0002 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 217 0004 033B     		subs	r3, r3, #3
 218 0006 DBB2     		uxtb	r3, r3
 219 0008 012B     		cmp	r3, #1
 220 000a 01D9     		bls	.L31
 282:../system/src/aprs/digi.c **** 	uint8_t retval = DIGI_PACKET_DIDNT_DIGIPEATED;
 221              		.loc 1 282 0
 222 000c 0020     		movs	r0, #0
 223 000e 7047     		bx	lr
 224              	.L31:
 286:../system/src/aprs/digi.c **** 
 287:../system/src/aprs/digi.c **** 		// if there is any message waiting in viscous delay
 288:../system/src/aprs/digi.c **** 		if (digi_msg_len > 0) {
 225              		.loc 1 288 0
 226 0010 214B     		ldr	r3, .L32+4
 227 0012 1988     		ldrh	r1, [r3]
 228 0014 0029     		cmp	r1, #0
 229 0016 36D0     		beq	.L24
 289:../system/src/aprs/digi.c **** 			digi_viscous_counter_sec++;
 230              		.loc 1 289 0
 231 0018 204A     		ldr	r2, .L32+8
 232 001a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 233 001c 0133     		adds	r3, r3, #1
 234 001e DBB2     		uxtb	r3, r3
 235 0020 1370     		strb	r3, [r2]
 290:../system/src/aprs/digi.c **** 
 291:../system/src/aprs/digi.c **** 			// if the counter reach the delay limit and packet still waits
 292:../system/src/aprs/digi.c **** 			// so it hasn't been cleared by 'digi_check_with_viscous'
 293:../system/src/aprs/digi.c **** 			if (digi_viscous_counter_sec >= digi_viscous_delay_sec) {
 236              		.loc 1 293 0
 237 0022 1F4A     		ldr	r2, .L32+12
 238 0024 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 239 0026 9342     		cmp	r3, r2
 240 0028 31D3     		bcc	.L27
 281:../system/src/aprs/digi.c **** 	uint8_t retval = DIGI_PACKET_DIDNT_DIGIPEATED;
 241              		.loc 1 281 0
 242 002a 70B5     		push	{r4, r5, r6, lr}
 243              		.cfi_def_cfa_offset 16
 244              		.cfi_offset 4, -16
 245              		.cfi_offset 5, -12
 246              		.cfi_offset 6, -8
 247              		.cfi_offset 14, -4
 248 002c 82B0     		sub	sp, sp, #8
 249              		.cfi_def_cfa_offset 24
 250              	.L25:
 294:../system/src/aprs/digi.c **** 
 295:../system/src/aprs/digi.c **** 				// wait when radio channel will became avaliable
 296:../system/src/aprs/digi.c **** 				while(main_ax25.dcd == true);
 251              		.loc 1 296 0 discriminator 1
 252 002e 1D4B     		ldr	r3, .L32+16
 253 0030 93F81432 		ldrb	r3, [r3, #532]	@ zero_extendqisi2
 254 0034 002B     		cmp	r3, #0
 255 0036 FAD1     		bne	.L25
 297:../system/src/aprs/digi.c **** 
 298:../system/src/aprs/digi.c **** 				// put message vaiting in viscous dealy into AX25 buffer in correct, encoded form
 299:../system/src/aprs/digi.c **** 				ax25_sendVia(&main_ax25, digi_path, digi_call_len, digi_msg, digi_msg_len-1);
 256              		.loc 1 299 0
 257 0038 1B4D     		ldr	r5, .L32+20
 258 003a 1C4B     		ldr	r3, .L32+24
 259 003c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 260 003e 1C4E     		ldr	r6, .L32+28
 261 0040 0139     		subs	r1, r1, #1
 262 0042 89B2     		uxth	r1, r1
 263 0044 0091     		str	r1, [sp]
 264 0046 2B46     		mov	r3, r5
 265 0048 3146     		mov	r1, r6
 266 004a 1648     		ldr	r0, .L32+16
 267 004c FFF7FEFF 		bl	ax25_sendVia
 268              	.LVL11:
 300:../system/src/aprs/digi.c **** 				after_tx_lock = 1;
 269              		.loc 1 300 0
 270 0050 0124     		movs	r4, #1
 271 0052 184B     		ldr	r3, .L32+32
 272 0054 1C70     		strb	r4, [r3]
 301:../system/src/aprs/digi.c **** 
 302:../system/src/aprs/digi.c **** 				// start transmission (non blicking call)
 303:../system/src/aprs/digi.c **** 				afsk_txStart(&main_afsk);
 273              		.loc 1 303 0
 274 0056 1848     		ldr	r0, .L32+36
 275 0058 FFF7FEFF 		bl	afsk_txStart
 276              	.LVL12:
 304:../system/src/aprs/digi.c **** 
 305:../system/src/aprs/digi.c **** 				// clear variables when there are not needed
 306:../system/src/aprs/digi.c **** 				memset(digi_path, 0x00, sizeof(AX25Call) * 7);
 277              		.loc 1 306 0
 278 005c 3122     		movs	r2, #49
 279 005e 0021     		movs	r1, #0
 280 0060 3046     		mov	r0, r6
 281 0062 FFF7FEFF 		bl	memset
 282              	.LVL13:
 307:../system/src/aprs/digi.c **** 				memset(digi_msg, 0x00, CONFIG_AX25_FRAME_BUF_LEN);
 283              		.loc 1 307 0
 284 0066 4FF40072 		mov	r2, #512
 285 006a 0021     		movs	r1, #0
 286 006c 2846     		mov	r0, r5
 287 006e FFF7FEFF 		bl	memset
 288              	.LVL14:
 308:../system/src/aprs/digi.c **** 				digi_msg_len = 0;
 289              		.loc 1 308 0
 290 0072 094B     		ldr	r3, .L32+4
 291 0074 0022     		movs	r2, #0
 292 0076 1A80     		strh	r2, [r3]	@ movhi
 309:../system/src/aprs/digi.c **** 
 310:../system/src/aprs/digi.c **** 				digi10m++;
 293              		.loc 1 310 0
 294 0078 104A     		ldr	r2, .L32+40
 295 007a 1388     		ldrh	r3, [r2]
 296 007c 2344     		add	r3, r3, r4
 297 007e 1380     		strh	r3, [r2]	@ movhi
 298              	.LVL15:
 311:../system/src/aprs/digi.c **** 
 312:../system/src/aprs/digi.c **** 				retval = DIGI_PACKET_DIGIPEATED;
 299              		.loc 1 312 0
 300 0080 2046     		mov	r0, r4
 301              	.LVL16:
 313:../system/src/aprs/digi.c **** 			}
 314:../system/src/aprs/digi.c **** 
 315:../system/src/aprs/digi.c **** 		}
 316:../system/src/aprs/digi.c **** 		else {
 317:../system/src/aprs/digi.c **** 			// if there isn't only zero the counter and do nothing
 318:../system/src/aprs/digi.c **** 			digi_viscous_counter_sec = 0;
 319:../system/src/aprs/digi.c **** 		}
 320:../system/src/aprs/digi.c **** 
 321:../system/src/aprs/digi.c **** 	}
 322:../system/src/aprs/digi.c **** 
 323:../system/src/aprs/digi.c **** 	return retval;
 324:../system/src/aprs/digi.c **** }
 302              		.loc 1 324 0
 303 0082 02B0     		add	sp, sp, #8
 304              		.cfi_def_cfa_offset 16
 305              		@ sp needed
 306 0084 70BD     		pop	{r4, r5, r6, pc}
 307              	.LVL17:
 308              	.L24:
 309              		.cfi_def_cfa_offset 0
 310              		.cfi_restore 4
 311              		.cfi_restore 5
 312              		.cfi_restore 6
 313              		.cfi_restore 14
 318:../system/src/aprs/digi.c **** 		}
 314              		.loc 1 318 0
 315 0086 0020     		movs	r0, #0
 316 0088 044B     		ldr	r3, .L32+8
 317 008a 1870     		strb	r0, [r3]
 318 008c 7047     		bx	lr
 319              	.L27:
 282:../system/src/aprs/digi.c **** 
 320              		.loc 1 282 0
 321 008e 0020     		movs	r0, #0
 322              	.LVL18:
 323              		.loc 1 324 0
 324 0090 7047     		bx	lr
 325              	.L33:
 326 0092 00BF     		.align	2
 327              	.L32:
 328 0094 00000000 		.word	digi_mode
 329 0098 00000000 		.word	digi_msg_len
 330 009c 00000000 		.word	digi_viscous_counter_sec
 331 00a0 00000000 		.word	digi_viscous_delay_sec
 332 00a4 00000000 		.word	main_ax25
 333 00a8 00000000 		.word	digi_msg
 334 00ac 00000000 		.word	.LANCHOR0
 335 00b0 00000000 		.word	digi_path
 336 00b4 00000000 		.word	after_tx_lock
 337 00b8 00000000 		.word	main_afsk
 338 00bc 00000000 		.word	digi10m
 339              		.cfi_endproc
 340              	.LFE74:
 342              		.comm	digi_viscous_counter_sec,1,1
 343              		.comm	digi_viscous_delay_sec,1,1
 344              		.comm	digi_mode,1,1
 345              		.global	digi_call_len
 346              		.comm	digi_path,49,4
 347              		.comm	digi_msg_len,2,2
 348              		.comm	digi_msg,512,4
 349              		.section	.bss.digi_call_len,"aw",%nobits
 350              		.set	.LANCHOR0,. + 0
 353              	digi_call_len:
 354 0000 00       		.space	1
 355              		.text
 356              	.Letext0:
 357              		.file 2 "/usr/local/bin/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/lock.h"
 358              		.file 3 "/usr/local/bin/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/_types.h"
 359              		.file 4 "/usr/local/bin/gcc-arm-none-eabi-7-2018-q2-update/lib/gcc/arm-none-eabi/7.3.1/include/std
 360              		.file 5 "/usr/local/bin/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/sys/reent.h"
 361              		.file 6 "/usr/local/bin/gcc-arm-none-eabi-7-2018-q2-update/lib/gcc/arm-none-eabi/7.3.1/include/std
 362              		.file 7 "../system/include/aprs/cfifo.h"
 363              		.file 8 "../system/include/aprs/afsk.h"
 364              		.file 9 "../system/include/aprs/ax25.h"
 365              		.file 10 "../include/config_data.h"
 366              		.file 11 "../system/include/aprs/digi.h"
 367              		.file 12 "../system/include/cmsis/core_cm3.h"
 368              		.file 13 "../system/include/cmsis/system_stm32f10x.h"
 369              		.file 14 "../system/include/cmsis/stm32f10x.h"
 370              		.file 15 "../system/include/drivers/serial.h"
 371              		.file 16 "../include/main.h"
 372              		.file 17 "../include/delay.h"
 373              		.file 18 "/usr/local/bin/gcc-arm-none-eabi-7-2018-q2-update/arm-none-eabi/include/string.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 digi.c
     /tmp/cc99DT9w.s:16     .text.digi_init:0000000000000000 $t
     /tmp/cc99DT9w.s:23     .text.digi_init:0000000000000000 digi_init
     /tmp/cc99DT9w.s:86     .text.digi_init:0000000000000048 $d
                            *COM*:0000000000000001 digi_viscous_counter_sec
                            *COM*:0000000000000002 digi_msg_len
                            *COM*:0000000000000001 digi_mode
                            *COM*:0000000000000001 digi_viscous_delay_sec
     /tmp/cc99DT9w.s:94     .text.digi_process:0000000000000000 $t
     /tmp/cc99DT9w.s:101    .text.digi_process:0000000000000000 digi_process
     /tmp/cc99DT9w.s:117    .text.digi_check_with_viscous:0000000000000000 $t
     /tmp/cc99DT9w.s:124    .text.digi_check_with_viscous:0000000000000000 digi_check_with_viscous
     /tmp/cc99DT9w.s:191    .text.digi_check_with_viscous:0000000000000050 $d
                            *COM*:0000000000000031 digi_path
                            *COM*:0000000000000200 digi_msg
     /tmp/cc99DT9w.s:200    .text.digi_pool_viscous:0000000000000000 $t
     /tmp/cc99DT9w.s:207    .text.digi_pool_viscous:0000000000000000 digi_pool_viscous
     /tmp/cc99DT9w.s:328    .text.digi_pool_viscous:0000000000000094 $d
     /tmp/cc99DT9w.s:353    .bss.digi_call_len:0000000000000000 digi_call_len
     /tmp/cc99DT9w.s:354    .bss.digi_call_len:0000000000000000 $d
                           .group:0000000000000000 wm4.0.879aed89c359f5856fe69c61b3590d34
                           .group:0000000000000000 wm4._newlib_version.h.4.875b979a44719054cd750d0952ad3fd6
                           .group:0000000000000000 wm4.newlib.h.18.5e5ca3429233af402d406a202f1fc1ac
                           .group:0000000000000000 wm4.ieeefp.h.77.220d9cccac42cd58761758bee2df4ce6
                           .group:0000000000000000 wm4.features.h.22.fad1cec3bc7ff06488171438dbdcfd02
                           .group:0000000000000000 wm4.config.h.220.6cac6a9685cfce5e83c17784171638d9
                           .group:0000000000000000 wm4._ansi.h.31.de524f58584151836e90d8620a16f8e8
                           .group:0000000000000000 wm4.stddef.h.39.a38874c8f8a57e66301090908ec2a69f
                           .group:0000000000000000 wm4._default_types.h.6.959254cf5f09734ea7516c89e8bb21bd
                           .group:0000000000000000 wm4.lock.h.2.1461d1fff82dffe8bfddc23307f6484f
                           .group:0000000000000000 wm4._types.h.125.5cf8a495f1f7ef36777ad868a1e32068
                           .group:0000000000000000 wm4.stddef.h.161.5349cb105733e8777bfb0cf53c4e3f34
                           .group:0000000000000000 wm4._types.h.184.03611d4f6b5bec9997bcf4279eceba07
                           .group:0000000000000000 wm4.reent.h.17.90c2574d4acdcfce933db5cb09ff35fe
                           .group:0000000000000000 wm4.cdefs.h.47.0bcdf94cb40e176393dd1404056825b4
                           .group:0000000000000000 wm4.string.h.15.dab3980bf35408a4c507182805e2de3a
                           .group:0000000000000000 wm4.stddef.h.161.19e15733342b50ead2919490b095303e
                           .group:0000000000000000 wm4.stdbool.h.29.07dce69c3b78884144b7f7bd19483461
                           .group:0000000000000000 wm4.stdintgcc.h.29.6d480f4ba0f60596e88234283d42444f
                           .group:0000000000000000 wm4.macros.h.2.7a7a5ac48d4160b7481c806e80b68442
                           .group:0000000000000000 wm4.config.h.2.f5e96167cb26b0ce97c5e7513a95bc8b
                           .group:0000000000000000 wm4.afsk.h.17.cf8f922069680e152e1eddb76cd4cc82
                           .group:0000000000000000 wm4.ax25.h.18.077e42a4af9016476e34900472a8fe18
                           .group:0000000000000000 wm4.config_data.h.9.cbb5077079a900a357fa92ca07074f04
                           .group:0000000000000000 wm4.digi.h.14.769ea2ae98162dd36806ccf4982c3c8a
                           .group:0000000000000000 wm4.stm32f10x.h.51.c58ea26c5150470d52680f0bbaa7049c
                           .group:0000000000000000 wm4.core_cm3.h.42.c33bb1302bf53de0580fb6140a46f2eb
                           .group:0000000000000000 wm4.cmsis_gcc.h.36.67d2dcde6a14ff518eedc1d545d89a76
                           .group:0000000000000000 wm4.core_cm3.h.183.ecfd9c316d6f10b73648f6e579b02c8b
                           .group:0000000000000000 wm4.stm32f10x.h.522.a925aafc848b1f088438cf0e9b167b78
                           .group:0000000000000000 wm4.stm32f10x_adc.h.89.9f2b285fa0070185d48a05b61a05798c
                           .group:0000000000000000 wm4.stm32f10x_bkp.h.25.4622919f1e30efdad5eb44e12edd5513
                           .group:0000000000000000 wm4.stm32f10x_can.h.25.e5e43f6bbc8fc7c8aa30ef2bc5610ced
                           .group:0000000000000000 wm4.stm32f10x_cec.h.25.8f03450e7bbb704d96e7bc73ec0f66a7
                           .group:0000000000000000 wm4.stm32f10x_dac.h.25.d946244edf026333094657d55ea894b8
                           .group:0000000000000000 wm4.stm32f10x_dbgmcu.h.25.d3351200fc7f9c8615d1ae81d40db08a
                           .group:0000000000000000 wm4.stm32f10x_dma.h.25.94e36204daa98cae5dcc70a10a9694d5
                           .group:0000000000000000 wm4.stm32f10x_exti.h.25.f52c69aad7d1994be5b2c4e2b8f4c595
                           .group:0000000000000000 wm4.stm32f10x_flash.h.25.4be61fcb02863962a1e006449d310650
                           .group:0000000000000000 wm4.stm32f10x_fsmc.h.25.bca154da2699cdb6024c0c6c4fc5aa89
                           .group:0000000000000000 wm4.stm32f10x_gpio.h.25.80c981af0e637567395034c576cfb3ce
                           .group:0000000000000000 wm4.stm32f10x_i2c.h.25.b124ac2c620f8ebddd92b6d95ca62176
                           .group:0000000000000000 wm4.stm32f10x_iwdg.h.25.da9374ab9856795610487f312ccf3122
                           .group:0000000000000000 wm4.stm32f10x_pwr.h.25.37ef75009f751ef5fe27910e0bf00a62
                           .group:0000000000000000 wm4.stm32f10x_rcc.h.25.fe8897e7491f2eb0cff54551d08eb765
                           .group:0000000000000000 wm4.stm32f10x_rtc.h.25.361142606ba98ddcd10369f321f6e636
                           .group:0000000000000000 wm4.stm32f10x_sdio.h.25.fb0db079f5c1412c40f359319f7c40b0
                           .group:0000000000000000 wm4.stm32f10x_spi.h.25.3f6dfa4abe177efb3c6f5a717c06b323
                           .group:0000000000000000 wm4.stm32f10x_tim.h.25.f709106ba77b314e6b070693f89f3c56
                           .group:0000000000000000 wm4.stm32f10x_usart.h.25.2e65e396239d0cc41fd0bf6faa2a32cb
                           .group:0000000000000000 wm4.stm32f10x_wwdg.h.25.dde12201d86b5aa9ecaafb5eccdc6549
                           .group:0000000000000000 wm4.misc.h.25.068e106f368fa5369a681ef57c106f4b
                           .group:0000000000000000 wm4.stm32f10x.h.8317.9a8e476d96d33bb2df9a9ad0775bd4a7
                           .group:0000000000000000 wm4.serial.h.14.12640f911db3fed3671ed7e729a57e3f
                           .group:0000000000000000 wm4.main.h.8.55d65ee492038dbe94ebf355bcb87510
                           .group:0000000000000000 wm4.station_config.h.9.39d8e1c3ae8d42c39bc1698d9fb88942

UNDEFINED SYMBOLS
strncmp
memcmp
memset
digidrop10m
ax25_sendVia
afsk_txStart
main_ax25
after_tx_lock
main_afsk
digi10m
